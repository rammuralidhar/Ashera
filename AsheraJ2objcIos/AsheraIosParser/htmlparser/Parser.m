//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ramm/git/Ashera/AsheraAndroidParser/htmlparser/org/ccil/cowan/tagsoup/Parser.java
//


#include "AttributesImpl.h"
#include "AutoDetector.h"
#include "Element.h"
#include "ElementType.h"
#include "HTMLScanner.h"
#include "HTMLSchema.h"
#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "Parser.h"
#include "Scanner.h"
#include "Schema.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/io/InputStreamReader.h"
#include "java/io/Reader.h"
#include "java/io/UnsupportedEncodingException.h"
#include "java/lang/Boolean.h"
#include "java/lang/Character.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/NumberFormatException.h"
#include "java/lang/StringBuffer.h"
#include "java/lang/System.h"
#include "java/net/URL.h"
#include "java/net/URLConnection.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"
#include "org/xml/sax/Attributes.h"
#include "org/xml/sax/ContentHandler.h"
#include "org/xml/sax/DTDHandler.h"
#include "org/xml/sax/EntityResolver.h"
#include "org/xml/sax/ErrorHandler.h"
#include "org/xml/sax/InputSource.h"
#include "org/xml/sax/Locator.h"
#include "org/xml/sax/SAXException.h"
#include "org/xml/sax/SAXNotRecognizedException.h"
#include "org/xml/sax/SAXNotSupportedException.h"
#include "org/xml/sax/ext/LexicalHandler.h"
#include "org/xml/sax/helpers/DefaultHandler.h"

#line 0 "/Users/ramm/git/Ashera/AsheraAndroidParser/htmlparser/org/ccil/cowan/tagsoup/Parser.java"

@interface OrgCcilCowanTagsoupParser () {
 @public
  id<OrgXmlSaxContentHandler> theContentHandler_;
  id<OrgXmlSaxExtLexicalHandler> theLexicalHandler_;
  id<OrgXmlSaxDTDHandler> theDTDHandler_;
  id<OrgXmlSaxErrorHandler> theErrorHandler_;
  id<OrgXmlSaxEntityResolver> theEntityResolver_;
  OrgCcilCowanTagsoupSchema *theSchema_;
  id<OrgCcilCowanTagsoupScanner> theScanner_;
  id<OrgCcilCowanTagsoupAutoDetector> theAutoDetector_;
  jboolean namespaces_;
  jboolean ignoreBogons_;
  jboolean bogonsEmpty_;
  jboolean rootBogons_;
  jboolean defaultAttributes_;
  jboolean translateColons_;
  jboolean restartElements_;
  jboolean ignorableWhitespace_;
  jboolean CDATAElements_;
  JavaUtilHashMap *theFeatures_;
  OrgCcilCowanTagsoupElement *theNewElement_;
  NSString *theAttributeName_;
  jboolean theDoctypeIsPresent_;
  NSString *theDoctypePublicId_;
  NSString *theDoctypeSystemId_;
  NSString *theDoctypeName_;
  NSString *thePITarget_;
  OrgCcilCowanTagsoupElement *theStack_;
  OrgCcilCowanTagsoupElement *theSaved_;
  OrgCcilCowanTagsoupElement *thePCDATA_;
  jint theEntity_;
  jboolean virginStack_;
  IOSCharArray *theCommentBuffer_;
}

+ (JavaLangBoolean *)truthValueWithBoolean:(jboolean)b;

- (void)setup;

- (JavaIoReader *)getReaderWithOrgXmlSaxInputSource:(OrgXmlSaxInputSource *)s;

- (JavaIoInputStream *)getInputStreamWithNSString:(NSString *)publicid
                                     withNSString:(NSString *)systemid;

- (NSString *)expandEntitiesWithNSString:(NSString *)src;

- (jint)lookupEntityWithCharArray:(IOSCharArray *)buff
                          withInt:(jint)offset
                          withInt:(jint)length;

- (void)restartWithOrgCcilCowanTagsoupElement:(OrgCcilCowanTagsoupElement *)e;

- (void)pop;

- (void)restartablyPop;

- (void)pushWithOrgCcilCowanTagsoupElement:(OrgCcilCowanTagsoupElement *)e;

- (NSString *)prefixOfWithNSString:(NSString *)name;

- (jboolean)foreignWithNSString:(NSString *)prefix
                   withNSString:(NSString *)namespace_;

+ (NSString *)trimquotesWithNSString:(NSString *)inArg;

+ (IOSObjectArray *)splitWithNSString:(NSString *)val;

- (NSString *)cleanPublicidWithNSString:(NSString *)src;

- (void)rectifyWithOrgCcilCowanTagsoupElement:(OrgCcilCowanTagsoupElement *)e;

- (NSString *)makeNameWithCharArray:(IOSCharArray *)buff
                            withInt:(jint)offset
                            withInt:(jint)length;

@end

J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theContentHandler_, id<OrgXmlSaxContentHandler>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theLexicalHandler_, id<OrgXmlSaxExtLexicalHandler>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theDTDHandler_, id<OrgXmlSaxDTDHandler>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theErrorHandler_, id<OrgXmlSaxErrorHandler>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theEntityResolver_, id<OrgXmlSaxEntityResolver>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theSchema_, OrgCcilCowanTagsoupSchema *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theScanner_, id<OrgCcilCowanTagsoupScanner>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theAutoDetector_, id<OrgCcilCowanTagsoupAutoDetector>)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theFeatures_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theNewElement_, OrgCcilCowanTagsoupElement *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theAttributeName_, NSString *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theDoctypePublicId_, NSString *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theDoctypeSystemId_, NSString *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theDoctypeName_, NSString *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, thePITarget_, NSString *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theStack_, OrgCcilCowanTagsoupElement *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theSaved_, OrgCcilCowanTagsoupElement *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, thePCDATA_, OrgCcilCowanTagsoupElement *)
J2OBJC_FIELD_SETTER(OrgCcilCowanTagsoupParser, theCommentBuffer_, IOSCharArray *)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_NAMESPACES_ = 
#line 46
YES;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_NAMESPACES_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_NAMESPACES_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_IGNORE_BOGONS_ = 
#line 47
NO;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_IGNORE_BOGONS_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_IGNORE_BOGONS_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_BOGONS_EMPTY_ = 
#line 48
NO;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_BOGONS_EMPTY_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_BOGONS_EMPTY_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_ROOT_BOGONS_ = 
#line 49
YES;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_ROOT_BOGONS_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_ROOT_BOGONS_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_DEFAULT_ATTRIBUTES_ = 
#line 50
YES;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_DEFAULT_ATTRIBUTES_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_DEFAULT_ATTRIBUTES_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_TRANSLATE_COLONS_ = 
#line 51
NO;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_TRANSLATE_COLONS_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_TRANSLATE_COLONS_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_RESTART_ELEMENTS_ = 
#line 52
YES;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_RESTART_ELEMENTS_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_RESTART_ELEMENTS_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_IGNORABLE_WHITESPACE_ = 
#line 53
NO;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_IGNORABLE_WHITESPACE_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_IGNORABLE_WHITESPACE_, jboolean)

static jboolean OrgCcilCowanTagsoupParser_DEFAULT_CDATA_ELEMENTS_ = 
#line 54
YES;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_CDATA_ELEMENTS_, jboolean)
J2OBJC_STATIC_FIELD_REF_GETTER(OrgCcilCowanTagsoupParser, DEFAULT_CDATA_ELEMENTS_, jboolean)

static IOSCharArray *OrgCcilCowanTagsoupParser_etagchars_;
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, etagchars_, IOSCharArray *)
J2OBJC_STATIC_FIELD_SETTER(OrgCcilCowanTagsoupParser, etagchars_, IOSCharArray *)

static NSString *OrgCcilCowanTagsoupParser_legal_ = 
#line 929
@"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-'()+,./:=?;!*#@$_%";
J2OBJC_STATIC_FIELD_GETTER(OrgCcilCowanTagsoupParser, legal_, NSString *)
J2OBJC_STATIC_FIELD_SETTER(OrgCcilCowanTagsoupParser, legal_, NSString *)

__attribute__((unused)) static JavaLangBoolean *OrgCcilCowanTagsoupParser_truthValueWithBoolean_(jboolean b);

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_setup(OrgCcilCowanTagsoupParser *self);

__attribute__((unused)) static JavaIoReader *OrgCcilCowanTagsoupParser_getReaderWithOrgXmlSaxInputSource_(OrgCcilCowanTagsoupParser *self, OrgXmlSaxInputSource *s);

__attribute__((unused)) static JavaIoInputStream *OrgCcilCowanTagsoupParser_getInputStreamWithNSString_withNSString_(OrgCcilCowanTagsoupParser *self, NSString *publicid, NSString *systemid);

__attribute__((unused)) static NSString *OrgCcilCowanTagsoupParser_expandEntitiesWithNSString_(OrgCcilCowanTagsoupParser *self, NSString *src);

__attribute__((unused)) static jint OrgCcilCowanTagsoupParser_lookupEntityWithCharArray_withInt_withInt_(OrgCcilCowanTagsoupParser *self, IOSCharArray *buff, jint offset, jint length);

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_restartWithOrgCcilCowanTagsoupElement_(OrgCcilCowanTagsoupParser *self, OrgCcilCowanTagsoupElement *e);

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_pop(OrgCcilCowanTagsoupParser *self);

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_restartablyPop(OrgCcilCowanTagsoupParser *self);

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_pushWithOrgCcilCowanTagsoupElement_(OrgCcilCowanTagsoupParser *self, OrgCcilCowanTagsoupElement *e);

__attribute__((unused)) static NSString *OrgCcilCowanTagsoupParser_prefixOfWithNSString_(OrgCcilCowanTagsoupParser *self, NSString *name);

__attribute__((unused)) static jboolean OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(OrgCcilCowanTagsoupParser *self, NSString *prefix, NSString *namespace_);

__attribute__((unused)) static NSString *OrgCcilCowanTagsoupParser_trimquotesWithNSString_(NSString *inArg);

__attribute__((unused)) static IOSObjectArray *OrgCcilCowanTagsoupParser_splitWithNSString_(NSString *val);

__attribute__((unused)) static NSString *OrgCcilCowanTagsoupParser_cleanPublicidWithNSString_(OrgCcilCowanTagsoupParser *self, NSString *src);

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(OrgCcilCowanTagsoupParser *self, OrgCcilCowanTagsoupElement *e);

__attribute__((unused)) static NSString *OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(OrgCcilCowanTagsoupParser *self, IOSCharArray *buff, jint offset, jint length);

@interface OrgCcilCowanTagsoupParser_$1 : NSObject < OrgCcilCowanTagsoupAutoDetector >

- (JavaIoReader *)autoDetectingReaderWithJavaIoInputStream:(JavaIoInputStream *)i;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgCcilCowanTagsoupParser_$1)

__attribute__((unused)) static void OrgCcilCowanTagsoupParser_$1_init(OrgCcilCowanTagsoupParser_$1 *self);

__attribute__((unused)) static OrgCcilCowanTagsoupParser_$1 *new_OrgCcilCowanTagsoupParser_$1_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgCcilCowanTagsoupParser_$1)

J2OBJC_INITIALIZED_DEFN(OrgCcilCowanTagsoupParser)

NSString *OrgCcilCowanTagsoupParser_namespacesFeature_ = 
#line 73
@"http://xml.org/sax/features/namespaces";
NSString *OrgCcilCowanTagsoupParser_namespacePrefixesFeature_ = 
#line 81
@"http://xml.org/sax/features/namespace-prefixes";
NSString *OrgCcilCowanTagsoupParser_externalGeneralEntitiesFeature_ = 
#line 88
@"http://xml.org/sax/features/external-general-entities";
NSString *OrgCcilCowanTagsoupParser_externalParameterEntitiesFeature_ = 
#line 95
@"http://xml.org/sax/features/external-parameter-entities";
NSString *OrgCcilCowanTagsoupParser_isStandaloneFeature_ = 
#line 104
@"http://xml.org/sax/features/is-standalone";
NSString *OrgCcilCowanTagsoupParser_lexicalHandlerParameterEntitiesFeature_ = 
#line 111
@"http://xml.org/sax/features/lexical-handler/parameter-entities";
NSString *OrgCcilCowanTagsoupParser_resolveDTDURIsFeature_ = 
#line 119
@"http://xml.org/sax/features/resolve-dtd-uris";
NSString *OrgCcilCowanTagsoupParser_stringInterningFeature_ = 
#line 130
@"http://xml.org/sax/features/string-interning";
NSString *OrgCcilCowanTagsoupParser_useAttributes2Feature_ = 
#line 139
@"http://xml.org/sax/features/use-attributes2";
NSString *OrgCcilCowanTagsoupParser_useLocator2Feature_ = 
#line 147
@"http://xml.org/sax/features/use-locator2";
NSString *OrgCcilCowanTagsoupParser_useEntityResolver2Feature_ = 
#line 155
@"http://xml.org/sax/features/use-entity-resolver2";
NSString *OrgCcilCowanTagsoupParser_validationFeature_ = 
#line 162
@"http://xml.org/sax/features/validation";
NSString *OrgCcilCowanTagsoupParser_unicodeNormalizationCheckingFeature_ = 
#line 170
@"http://xml.org/sax/features/unicode-normalization-checking";
NSString *OrgCcilCowanTagsoupParser_xmlnsURIsFeature_ = 
#line 178
@"http://xml.org/sax/features/xmlns-uris";
NSString *OrgCcilCowanTagsoupParser_XML11Feature_ = 
#line 185
@"http://xml.org/sax/features/xml-1.1";
NSString *OrgCcilCowanTagsoupParser_ignoreBogonsFeature_ = 
#line 192
@"http://www.ccil.org/~cowan/tagsoup/features/ignore-bogons";
NSString *OrgCcilCowanTagsoupParser_bogonsEmptyFeature_ = 
#line 200
@"http://www.ccil.org/~cowan/tagsoup/features/bogons-empty";
NSString *OrgCcilCowanTagsoupParser_rootBogonsFeature_ = 
#line 207
@"http://www.ccil.org/~cowan/tagsoup/features/root-bogons";
NSString *OrgCcilCowanTagsoupParser_defaultAttributesFeature_ = 
#line 214
@"http://www.ccil.org/~cowan/tagsoup/features/default-attributes";
NSString *OrgCcilCowanTagsoupParser_translateColonsFeature_ = 
#line 221
@"http://www.ccil.org/~cowan/tagsoup/features/translate-colons";
NSString *OrgCcilCowanTagsoupParser_restartElementsFeature_ = 
#line 228
@"http://www.ccil.org/~cowan/tagsoup/features/restart-elements";
NSString *OrgCcilCowanTagsoupParser_ignorableWhitespaceFeature_ = 
#line 238
@"http://www.ccil.org/~cowan/tagsoup/features/ignorable-whitespace";
NSString *OrgCcilCowanTagsoupParser_CDATAElementsFeature_ = 
#line 246
@"http://www.ccil.org/~cowan/tagsoup/features/cdata-elements";
NSString *OrgCcilCowanTagsoupParser_lexicalHandlerProperty_ = 
#line 256
@"http://xml.org/sax/properties/lexical-handler";
NSString *OrgCcilCowanTagsoupParser_scannerProperty_ = 
#line 262
@"http://www.ccil.org/~cowan/tagsoup/properties/scanner";
NSString *OrgCcilCowanTagsoupParser_schemaProperty_ = 
#line 268
@"http://www.ccil.org/~cowan/tagsoup/properties/schema";
NSString *OrgCcilCowanTagsoupParser_autoDetectorProperty_ = 
#line 274
@"http://www.ccil.org/~cowan/tagsoup/properties/auto-detector";


#line 31
@implementation OrgCcilCowanTagsoupParser


#line 311
+ (JavaLangBoolean *)truthValueWithBoolean:(jboolean)b {
  return OrgCcilCowanTagsoupParser_truthValueWithBoolean_(b);
}


#line 316
- (jboolean)getFeatureWithNSString:(NSString *)name {
  
#line 318
  JavaLangBoolean *b = (JavaLangBoolean *) check_class_cast([((JavaUtilHashMap *) nil_chk(theFeatures_)) getWithId:name], [JavaLangBoolean class]);
  if (b == nil) {
    @throw new_OrgXmlSaxSAXNotRecognizedException_initWithNSString_(JreStrcat("$$", @"Unknown feature ", name));
  }
  return [((JavaLangBoolean *) nil_chk(b)) booleanValue];
}


#line 325
- (void)setFeatureWithNSString:(NSString *)name
                   withBoolean:(jboolean)value {
  
#line 327
  JavaLangBoolean *b = (JavaLangBoolean *) check_class_cast([((JavaUtilHashMap *) nil_chk(theFeatures_)) getWithId:name], [JavaLangBoolean class]);
  if (b == nil) {
    @throw new_OrgXmlSaxSAXNotRecognizedException_initWithNSString_(JreStrcat("$$", @"Unknown feature ", name));
  }
  if (value) (void) [theFeatures_ putWithId:name withId:JavaLangBoolean_get_TRUE__()];
  else (void) [theFeatures_ putWithId:name withId:JavaLangBoolean_get_FALSE__()];
  
#line 334
  if ([((NSString *) nil_chk(name)) isEqual:OrgCcilCowanTagsoupParser_namespacesFeature_]) namespaces_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_ignoreBogonsFeature_]) ignoreBogons_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_bogonsEmptyFeature_]) bogonsEmpty_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_rootBogonsFeature_]) rootBogons_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_defaultAttributesFeature_]) defaultAttributes_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_translateColonsFeature_]) translateColons_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_restartElementsFeature_]) restartElements_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_ignorableWhitespaceFeature_]) ignorableWhitespace_ = value;
  else if ([name isEqual:OrgCcilCowanTagsoupParser_CDATAElementsFeature_]) CDATAElements_ = value;
}


#line 345
- (id)getPropertyWithNSString:(NSString *)name {
  
#line 347
  if ([((NSString *) nil_chk(name)) isEqual:OrgCcilCowanTagsoupParser_lexicalHandlerProperty_]) {
    return theLexicalHandler_ == self ? nil : theLexicalHandler_;
  }
  else if ([name isEqual:OrgCcilCowanTagsoupParser_scannerProperty_]) {
    return theScanner_;
  }
  else if ([name isEqual:OrgCcilCowanTagsoupParser_schemaProperty_]) {
    return theSchema_;
  }
  else if ([name isEqual:OrgCcilCowanTagsoupParser_autoDetectorProperty_]) {
    return theAutoDetector_;
  }
  else {
    @throw new_OrgXmlSaxSAXNotRecognizedException_initWithNSString_(JreStrcat("$$", @"Unknown property ", name));
  }
}


#line 364
- (void)setPropertyWithNSString:(NSString *)name
                         withId:(id)value {
  
#line 366
  if ([((NSString *) nil_chk(name)) isEqual:OrgCcilCowanTagsoupParser_lexicalHandlerProperty_]) {
    if (value == nil) {
      theLexicalHandler_ = self;
    }
    else if ([OrgXmlSaxExtLexicalHandler_class_() isInstance:value]) {
      theLexicalHandler_ = (id<OrgXmlSaxExtLexicalHandler>) check_protocol_cast(value, @protocol(OrgXmlSaxExtLexicalHandler));
    }
    else {
      @throw new_OrgXmlSaxSAXNotSupportedException_initWithNSString_(@"Your lexical handler is not a LexicalHandler");
    }
  }
  else if ([name isEqual:OrgCcilCowanTagsoupParser_scannerProperty_]) {
    if ([OrgCcilCowanTagsoupScanner_class_() isInstance:value]) {
      theScanner_ = (id<OrgCcilCowanTagsoupScanner>) check_protocol_cast(value, @protocol(OrgCcilCowanTagsoupScanner));
    }
    else {
      @throw new_OrgXmlSaxSAXNotSupportedException_initWithNSString_(@"Your scanner is not a Scanner");
    }
  }
  else if ([name isEqual:OrgCcilCowanTagsoupParser_schemaProperty_]) {
    if ([value isKindOfClass:[OrgCcilCowanTagsoupSchema class]]) {
      theSchema_ = (OrgCcilCowanTagsoupSchema *) check_class_cast(value, [OrgCcilCowanTagsoupSchema class]);
    }
    else {
      @throw new_OrgXmlSaxSAXNotSupportedException_initWithNSString_(@"Your schema is not a Schema");
    }
  }
  else if ([name isEqual:OrgCcilCowanTagsoupParser_autoDetectorProperty_]) {
    if ([OrgCcilCowanTagsoupAutoDetector_class_() isInstance:value]) {
      theAutoDetector_ = (id<OrgCcilCowanTagsoupAutoDetector>) check_protocol_cast(value, @protocol(OrgCcilCowanTagsoupAutoDetector));
    }
    else {
      @throw new_OrgXmlSaxSAXNotSupportedException_initWithNSString_(@"Your auto-detector is not an AutoDetector");
    }
  }
  else {
    @throw new_OrgXmlSaxSAXNotRecognizedException_initWithNSString_(JreStrcat("$$", @"Unknown property ", name));
  }
}


#line 406
- (void)setEntityResolverWithOrgXmlSaxEntityResolver:(id<OrgXmlSaxEntityResolver>)resolver {
  theEntityResolver_ = (resolver == nil) ? self : ((id) resolver);
}

- (id<OrgXmlSaxEntityResolver>)getEntityResolver {
  return (theEntityResolver_ == self) ? nil : theEntityResolver_;
}

- (void)setDTDHandlerWithOrgXmlSaxDTDHandler:(id<OrgXmlSaxDTDHandler>)handler {
  theDTDHandler_ = (handler == nil) ? self : ((id) handler);
}

- (id<OrgXmlSaxDTDHandler>)getDTDHandler {
  return (theDTDHandler_ == self) ? nil : theDTDHandler_;
}

- (void)setContentHandlerWithOrgXmlSaxContentHandler:(id<OrgXmlSaxContentHandler>)handler {
  theContentHandler_ = (handler == nil) ? self : ((id) handler);
}

- (id<OrgXmlSaxContentHandler>)getContentHandler {
  return (theContentHandler_ == self) ? nil : theContentHandler_;
}

- (void)setErrorHandlerWithOrgXmlSaxErrorHandler:(id<OrgXmlSaxErrorHandler>)handler {
  theErrorHandler_ = (handler == nil) ? self : ((id) handler);
}

- (id<OrgXmlSaxErrorHandler>)getErrorHandler {
  return (theErrorHandler_ == self) ? nil : theErrorHandler_;
}

- (void)parseWithOrgXmlSaxInputSource:(OrgXmlSaxInputSource *)input {
  OrgCcilCowanTagsoupParser_setup(self);
  JavaIoReader *r = OrgCcilCowanTagsoupParser_getReaderWithOrgXmlSaxInputSource_(self, input);
  [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) startDocument];
  [((id<OrgCcilCowanTagsoupScanner>) nil_chk(theScanner_)) resetDocumentLocatorWithNSString:[((OrgXmlSaxInputSource *) nil_chk(input)) getPublicId] withNSString:[input getSystemId]];
  if ([OrgXmlSaxLocator_class_() isInstance:theScanner_]) {
    [theContentHandler_ setDocumentLocatorWithOrgXmlSaxLocator:(id<OrgXmlSaxLocator>) check_protocol_cast(theScanner_, @protocol(OrgXmlSaxLocator))];
  }
  if (!([((NSString *) nil_chk([((OrgCcilCowanTagsoupSchema *) nil_chk(theSchema_)) getURI])) isEqual:@""]))
#line 447
  [theContentHandler_ startPrefixMappingWithNSString:[theSchema_ getPrefix] withNSString:
#line 448
  [theSchema_ getURI]];
  [theScanner_ scanWithJavaIoReader:r withOrgCcilCowanTagsoupScanHandler:self];
}


#line 452
- (void)parseWithNSString:(NSString *)systemid {
  [self parseWithOrgXmlSaxInputSource:new_OrgXmlSaxInputSource_initWithNSString_(systemid)];
}


#line 457
- (void)setup {
  OrgCcilCowanTagsoupParser_setup(self);
}


#line 480
- (JavaIoReader *)getReaderWithOrgXmlSaxInputSource:(OrgXmlSaxInputSource *)s {
  return OrgCcilCowanTagsoupParser_getReaderWithOrgXmlSaxInputSource_(self, s);
}


#line 506
- (JavaIoInputStream *)getInputStreamWithNSString:(NSString *)publicid
                                     withNSString:(NSString *)systemid {
  return OrgCcilCowanTagsoupParser_getInputStreamWithNSString_withNSString_(self, publicid, systemid);
}


#line 528
- (void)adupWithCharArray:(IOSCharArray *)buff
                  withInt:(jint)offset
                  withInt:(jint)length {
  if (theNewElement_ == nil || theAttributeName_ == nil) return;
  [((OrgCcilCowanTagsoupElement *) nil_chk(theNewElement_)) setAttributeWithNSString:theAttributeName_ withNSString:nil withNSString:theAttributeName_];
  theAttributeName_ = nil;
}


#line 534
- (void)anameWithCharArray:(IOSCharArray *)buff
                   withInt:(jint)offset
                   withInt:(jint)length {
  if (theNewElement_ == nil) return;
  
#line 538
  theAttributeName_ = [((NSString *) nil_chk(OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(self, buff, offset, length))) lowercaseString];
}


#line 542
- (void)avalWithCharArray:(IOSCharArray *)buff
                  withInt:(jint)offset
                  withInt:(jint)length {
  if (theNewElement_ == nil || theAttributeName_ == nil) return;
  NSString *value = [NSString stringWithCharacters:buff offset:offset length:length];
  
#line 546
  value = OrgCcilCowanTagsoupParser_expandEntitiesWithNSString_(self, value);
  [((OrgCcilCowanTagsoupElement *) nil_chk(theNewElement_)) setAttributeWithNSString:theAttributeName_ withNSString:nil withNSString:value];
  theAttributeName_ = nil;
}


#line 555
- (NSString *)expandEntitiesWithNSString:(NSString *)src {
  return OrgCcilCowanTagsoupParser_expandEntitiesWithNSString_(self, src);
}


#line 605
- (void)entityWithCharArray:(IOSCharArray *)buff
                    withInt:(jint)offset
                    withInt:(jint)length {
  theEntity_ = OrgCcilCowanTagsoupParser_lookupEntityWithCharArray_withInt_withInt_(self, buff, offset, length);
}

- (jint)lookupEntityWithCharArray:(IOSCharArray *)buff
                          withInt:(jint)offset
                          withInt:(jint)length {
  return OrgCcilCowanTagsoupParser_lookupEntityWithCharArray_withInt_withInt_(self, buff, offset, length);
}


#line 632
- (void)eofWithCharArray:(IOSCharArray *)buff
                 withInt:(jint)offset
                 withInt:(jint)length {
  if (virginStack_) OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(self, thePCDATA_);
  while ([((OrgCcilCowanTagsoupElement *) nil_chk(theStack_)) next] != nil) {
    OrgCcilCowanTagsoupParser_pop(self);
  }
  if (!([((NSString *) nil_chk([((OrgCcilCowanTagsoupSchema *) nil_chk(theSchema_)) getURI])) isEqual:@""]))
#line 638
  [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) endPrefixMappingWithNSString:[theSchema_ getPrefix]];
  [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) endDocument];
}


#line 642
- (void)etagWithCharArray:(IOSCharArray *)buff
                  withInt:(jint)offset
                  withInt:(jint)length {
  if ([self etag_cdataWithCharArray:buff withInt:offset withInt:length]) return;
  [self etag_basicWithCharArray:buff withInt:offset withInt:length];
}


#line 648
- (jboolean)etag_cdataWithCharArray:(IOSCharArray *)buff
                            withInt:(jint)offset
                            withInt:(jint)length {
  NSString *currentName = [((OrgCcilCowanTagsoupElement *) nil_chk(theStack_)) name];
  
#line 653
  if (CDATAElements_ && ([theStack_ flags] & OrgCcilCowanTagsoupSchema_F_CDATA) != 0) {
    jboolean realTag = length == ((jint) [((NSString *) nil_chk(currentName)) length]);
    if (realTag) {
      for (jint i = 0; i < length; i++) {
        if (JavaLangCharacter_toLowerCaseWithChar_(IOSCharArray_Get(nil_chk(buff), offset + i)) != JavaLangCharacter_toLowerCaseWithChar_([currentName charAtWithInt:i])) {
          realTag = NO;
          break;
        }
      }
    }
    if (!realTag) {
      [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) charactersWithCharArray:OrgCcilCowanTagsoupParser_etagchars_ withInt:0 withInt:2];
      [theContentHandler_ charactersWithCharArray:buff withInt:offset withInt:length];
      [theContentHandler_ charactersWithCharArray:OrgCcilCowanTagsoupParser_etagchars_ withInt:2 withInt:1];
      [((id<OrgCcilCowanTagsoupScanner>) nil_chk(theScanner_)) startCDATA];
      return YES;
    }
  }
  return NO;
}


#line 674
- (void)etag_basicWithCharArray:(IOSCharArray *)buff
                        withInt:(jint)offset
                        withInt:(jint)length {
  theNewElement_ = nil;
  NSString *name;
  if (length != 0) {
    
#line 679
    name = OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(self, buff, offset, length);
    
#line 681
    OrgCcilCowanTagsoupElementType *type = [((OrgCcilCowanTagsoupSchema *) nil_chk(theSchema_)) getElementTypeWithNSString:name];
    if (type == nil) return;
    name = [((OrgCcilCowanTagsoupElementType *) nil_chk(type)) name];
  }
  else {
    name = [((OrgCcilCowanTagsoupElement *) nil_chk(theStack_)) name];
  }
  
#line 690
  OrgCcilCowanTagsoupElement *sp;
  jboolean inNoforce = NO;
  for (sp = theStack_; sp != nil; sp = [sp next]) {
    if ([((NSString *) nil_chk([((OrgCcilCowanTagsoupElement *) nil_chk(sp)) name])) isEqual:name]) break;
    if (([sp flags] & OrgCcilCowanTagsoupSchema_F_NOFORCE) != 0) inNoforce = YES;
  }
  
#line 697
  if (sp == nil) return;
  if ([((OrgCcilCowanTagsoupElement *) nil_chk(sp)) next] == nil || [((OrgCcilCowanTagsoupElement *) nil_chk([sp next])) next] == nil) return;
  if (inNoforce) {
    [sp preclose];
  }
  else {
    while (theStack_ != sp) {
      OrgCcilCowanTagsoupParser_restartablyPop(self);
    }
    OrgCcilCowanTagsoupParser_pop(self);
  }
  
#line 709
  while ([((OrgCcilCowanTagsoupElement *) nil_chk(theStack_)) isPreclosed]) {
    OrgCcilCowanTagsoupParser_pop(self);
  }
  OrgCcilCowanTagsoupParser_restartWithOrgCcilCowanTagsoupElement_(self, nil);
}


#line 717
- (void)restartWithOrgCcilCowanTagsoupElement:(OrgCcilCowanTagsoupElement *)e {
  OrgCcilCowanTagsoupParser_restartWithOrgCcilCowanTagsoupElement_(self, e);
}


#line 727
- (void)pop {
  OrgCcilCowanTagsoupParser_pop(self);
}


#line 754
- (void)restartablyPop {
  OrgCcilCowanTagsoupParser_restartablyPop(self);
}


#line 766
- (void)pushWithOrgCcilCowanTagsoupElement:(OrgCcilCowanTagsoupElement *)e {
  OrgCcilCowanTagsoupParser_pushWithOrgCcilCowanTagsoupElement_(self, e);
}


#line 804
- (NSString *)prefixOfWithNSString:(NSString *)name {
  return OrgCcilCowanTagsoupParser_prefixOfWithNSString_(self, name);
}


#line 813
- (jboolean)foreignWithNSString:(NSString *)prefix
                   withNSString:(NSString *)namespace_ {
  return OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(self, prefix, namespace_);
}


#line 831
- (void)declWithCharArray:(IOSCharArray *)buff
                  withInt:(jint)offset
                  withInt:(jint)length {
  NSString *s = [NSString stringWithCharacters:buff offset:offset length:length];
  NSString *name = nil;
  NSString *systemid = nil;
  NSString *publicid = nil;
  IOSObjectArray *v = OrgCcilCowanTagsoupParser_splitWithNSString_(s);
  if (((IOSObjectArray *) nil_chk(v))->size_ > 0 && [@"DOCTYPE" equalsIgnoreCase:IOSObjectArray_Get(v, 0)]) {
    if (theDoctypeIsPresent_) return;
    theDoctypeIsPresent_ = YES;
    if (v->size_ > 1) {
      name = IOSObjectArray_Get(v, 1);
      if (v->size_ > 3 && [@"SYSTEM" isEqual:IOSObjectArray_Get(v, 2)]) {
        systemid = IOSObjectArray_Get(v, 3);
      }
      else if (v->size_ > 3 && [@"PUBLIC" isEqual:IOSObjectArray_Get(v, 2)]) {
        publicid = IOSObjectArray_Get(v, 3);
        if (v->size_ > 4) {
          systemid = IOSObjectArray_Get(v, 4);
        }
        else {
          systemid = @"";
        }
      }
    }
  }
  publicid = OrgCcilCowanTagsoupParser_trimquotesWithNSString_(publicid);
  systemid = OrgCcilCowanTagsoupParser_trimquotesWithNSString_(systemid);
  if (name != nil) {
    publicid = OrgCcilCowanTagsoupParser_cleanPublicidWithNSString_(self, publicid);
    [((id<OrgXmlSaxExtLexicalHandler>) nil_chk(theLexicalHandler_)) startDTDWithNSString:name withNSString:publicid withNSString:systemid];
    [theLexicalHandler_ endDTD];
    theDoctypeName_ = name;
    theDoctypePublicId_ = publicid;
    if ([OrgXmlSaxLocator_class_() isInstance:theScanner_]) {
      theDoctypeSystemId_ = [((id<OrgXmlSaxLocator>) nil_chk(((id<OrgXmlSaxLocator>) check_protocol_cast(theScanner_, @protocol(OrgXmlSaxLocator))))) getSystemId];
      @try {
        theDoctypeSystemId_ = [new_JavaNetURL_initWithJavaNetURL_withNSString_(new_JavaNetURL_initWithNSString_(theDoctypeSystemId_), systemid) description];
      }
      @catch (
#line 868
      JavaLangException *e) {
      }
    }
  }
}


#line 874
+ (NSString *)trimquotesWithNSString:(NSString *)inArg {
  return OrgCcilCowanTagsoupParser_trimquotesWithNSString_(inArg);
}


#line 888
+ (IOSObjectArray *)splitWithNSString:(NSString *)val {
  return OrgCcilCowanTagsoupParser_splitWithNSString_(val);
}


#line 931
- (NSString *)cleanPublicidWithNSString:(NSString *)src {
  return OrgCcilCowanTagsoupParser_cleanPublicidWithNSString_(self, src);
}


#line 955
- (void)giWithCharArray:(IOSCharArray *)buff
                withInt:(jint)offset
                withInt:(jint)length {
  if (theNewElement_ != nil) return;
  NSString *name = OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(self, buff, offset, length);
  if (name == nil) return;
  OrgCcilCowanTagsoupElementType *type = [((OrgCcilCowanTagsoupSchema *) nil_chk(theSchema_)) getElementTypeWithNSString:name];
  if (type == nil) {
    
#line 962
    if (ignoreBogons_) return;
    jint bogonModel = bogonsEmpty_ ? OrgCcilCowanTagsoupSchema_M_EMPTY : OrgCcilCowanTagsoupSchema_M_ANY;
    jint bogonMemberOf = rootBogons_ ? OrgCcilCowanTagsoupSchema_M_ANY : (OrgCcilCowanTagsoupSchema_M_ANY & ~OrgCcilCowanTagsoupSchema_M_ROOT);
    [theSchema_ elementTypeWithNSString:name withInt:bogonModel withInt:bogonMemberOf withInt:0];
    if (!rootBogons_) [theSchema_ parentWithNSString:name withNSString:[((OrgCcilCowanTagsoupElementType *) nil_chk([theSchema_ rootElementType])) name]];
    type = [theSchema_ getElementTypeWithNSString:name];
  }
  
#line 970
  theNewElement_ = new_OrgCcilCowanTagsoupElement_initWithOrgCcilCowanTagsoupElementType_withBoolean_(type, defaultAttributes_);
}


#line 974
- (void)cdsectWithCharArray:(IOSCharArray *)buff
                    withInt:(jint)offset
                    withInt:(jint)length {
  [((id<OrgXmlSaxExtLexicalHandler>) nil_chk(theLexicalHandler_)) startCDATA];
  [self pcdataWithCharArray:buff withInt:offset withInt:length];
  [theLexicalHandler_ endCDATA];
}


#line 979
- (void)pcdataWithCharArray:(IOSCharArray *)buff
                    withInt:(jint)offset
                    withInt:(jint)length {
  if (length == 0) return;
  jboolean allWhite = YES;
  for (jint i = 0; i < length; i++) {
    if (!JavaLangCharacter_isWhitespaceWithChar_(IOSCharArray_Get(nil_chk(buff), offset + i))) {
      allWhite = NO;
    }
  }
  if (allWhite && ![((OrgCcilCowanTagsoupElement *) nil_chk(theStack_)) canContainWithOrgCcilCowanTagsoupElement:thePCDATA_]) {
    if (ignorableWhitespace_) {
      [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) ignorableWhitespaceWithCharArray:buff withInt:offset withInt:length];
    }
  }
  else {
    OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(self, thePCDATA_);
    [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) charactersWithCharArray:buff withInt:offset withInt:length];
  }
}


#line 998
- (void)pitargetWithCharArray:(IOSCharArray *)buff
                      withInt:(jint)offset
                      withInt:(jint)length {
  if (theNewElement_ != nil) return;
  thePITarget_ = [((NSString *) nil_chk(OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(self, buff, offset, length))) replace:':' withChar:'_'];
}


#line 1003
- (void)piWithCharArray:(IOSCharArray *)buff
                withInt:(jint)offset
                withInt:(jint)length {
  if (theNewElement_ != nil || thePITarget_ == nil) return;
  if ([@"xml" equalsIgnoreCase:thePITarget_]) return;
  
#line 1007
  if (length > 0 && IOSCharArray_Get(nil_chk(buff), length - 1) == '?') length--;
  [((id<OrgXmlSaxContentHandler>) nil_chk(theContentHandler_)) processingInstructionWithNSString:thePITarget_ withNSString:[NSString stringWithCharacters:
#line 1009
  buff offset:offset length:length]];
  thePITarget_ = nil;
}


#line 1013
- (void)stagcWithCharArray:(IOSCharArray *)buff
                   withInt:(jint)offset
                   withInt:(jint)length {
  
#line 1015
  if (theNewElement_ == nil) return;
  OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(self, theNewElement_);
  if ([((OrgCcilCowanTagsoupElement *) nil_chk(theStack_)) model] == OrgCcilCowanTagsoupSchema_M_EMPTY) {
    
#line 1019
    [self etag_basicWithCharArray:buff withInt:offset withInt:length];
  }
}


#line 1023
- (void)stageWithCharArray:(IOSCharArray *)buff
                   withInt:(jint)offset
                   withInt:(jint)length {
  
#line 1025
  if (theNewElement_ == nil) return;
  OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(self, theNewElement_);
  
#line 1028
  [self etag_basicWithCharArray:buff withInt:offset withInt:length];
}


#line 1033
- (void)cmntWithCharArray:(IOSCharArray *)buff
                  withInt:(jint)offset
                  withInt:(jint)length {
  [((id<OrgXmlSaxExtLexicalHandler>) nil_chk(theLexicalHandler_)) commentWithCharArray:buff withInt:offset withInt:length];
}

- (void)rectifyWithOrgCcilCowanTagsoupElement:(OrgCcilCowanTagsoupElement *)e {
  OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(self, e);
}


#line 1068
- (jint)getEntity {
  return theEntity_;
}


#line 1075
- (NSString *)makeNameWithCharArray:(IOSCharArray *)buff
                            withInt:(jint)offset
                            withInt:(jint)length {
  return OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(self, buff, offset, length);
}


#line 1106
- (void)commentWithCharArray:(IOSCharArray *)ch
                     withInt:(jint)start
                     withInt:(jint)length {
}


#line 1107
- (void)endCDATA {
}


#line 1108
- (void)endDTD {
}


#line 1109
- (void)endEntityWithNSString:(NSString *)name {
}


#line 1110
- (void)startCDATA {
}


#line 1111
- (void)startDTDWithNSString:(NSString *)name
                withNSString:(NSString *)publicid
                withNSString:(NSString *)systemid {
}


#line 1112
- (void)startEntityWithNSString:(NSString *)name {
}

- (instancetype)init {
  OrgCcilCowanTagsoupParser_init(self);
  return self;
}

+ (void)initialize {
  if (self == [OrgCcilCowanTagsoupParser class]) {
    OrgCcilCowanTagsoupParser_etagchars_ = [IOSCharArray newArrayWithChars:(jchar[]){
#line 647
      '<', '/', '>' } count:3];
      J2OBJC_SET_INITIALIZED(OrgCcilCowanTagsoupParser)
    }
  }

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "truthValueWithBoolean:", "truthValue", "Ljava.lang.Boolean;", 0xa, NULL, NULL },
    { "getFeatureWithNSString:", "getFeature", "Z", 0x1, "Lorg.xml.sax.SAXNotRecognizedException;Lorg.xml.sax.SAXNotSupportedException;", NULL },
    { "setFeatureWithNSString:withBoolean:", "setFeature", "V", 0x1, "Lorg.xml.sax.SAXNotRecognizedException;Lorg.xml.sax.SAXNotSupportedException;", NULL },
    { "getPropertyWithNSString:", "getProperty", "Ljava.lang.Object;", 0x1, "Lorg.xml.sax.SAXNotRecognizedException;Lorg.xml.sax.SAXNotSupportedException;", NULL },
    { "setPropertyWithNSString:withId:", "setProperty", "V", 0x1, "Lorg.xml.sax.SAXNotRecognizedException;Lorg.xml.sax.SAXNotSupportedException;", NULL },
    { "setEntityResolverWithOrgXmlSaxEntityResolver:", "setEntityResolver", "V", 0x1, NULL, NULL },
    { "getEntityResolver", NULL, "Lorg.xml.sax.EntityResolver;", 0x1, NULL, NULL },
    { "setDTDHandlerWithOrgXmlSaxDTDHandler:", "setDTDHandler", "V", 0x1, NULL, NULL },
    { "getDTDHandler", NULL, "Lorg.xml.sax.DTDHandler;", 0x1, NULL, NULL },
    { "setContentHandlerWithOrgXmlSaxContentHandler:", "setContentHandler", "V", 0x1, NULL, NULL },
    { "getContentHandler", NULL, "Lorg.xml.sax.ContentHandler;", 0x1, NULL, NULL },
    { "setErrorHandlerWithOrgXmlSaxErrorHandler:", "setErrorHandler", "V", 0x1, NULL, NULL },
    { "getErrorHandler", NULL, "Lorg.xml.sax.ErrorHandler;", 0x1, NULL, NULL },
    { "parseWithOrgXmlSaxInputSource:", "parse", "V", 0x1, "Ljava.io.IOException;Lorg.xml.sax.SAXException;", NULL },
    { "parseWithNSString:", "parse", "V", 0x1, "Ljava.io.IOException;Lorg.xml.sax.SAXException;", NULL },
    { "setup", NULL, "V", 0x2, NULL, NULL },
    { "getReaderWithOrgXmlSaxInputSource:", "getReader", "Ljava.io.Reader;", 0x2, "Lorg.xml.sax.SAXException;Ljava.io.IOException;", NULL },
    { "getInputStreamWithNSString:withNSString:", "getInputStream", "Ljava.io.InputStream;", 0x2, "Ljava.io.IOException;Lorg.xml.sax.SAXException;", NULL },
    { "adupWithCharArray:withInt:withInt:", "adup", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "anameWithCharArray:withInt:withInt:", "aname", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "avalWithCharArray:withInt:withInt:", "aval", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "expandEntitiesWithNSString:", "expandEntities", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "entityWithCharArray:withInt:withInt:", "entity", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "lookupEntityWithCharArray:withInt:withInt:", "lookupEntity", "I", 0x2, NULL, NULL },
    { "eofWithCharArray:withInt:withInt:", "eof", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "etagWithCharArray:withInt:withInt:", "etag", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "etag_cdataWithCharArray:withInt:withInt:", "etag_cdata", "Z", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "etag_basicWithCharArray:withInt:withInt:", "etag_basic", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "restartWithOrgCcilCowanTagsoupElement:", "restart", "V", 0x2, "Lorg.xml.sax.SAXException;", NULL },
    { "pop", NULL, "V", 0x2, "Lorg.xml.sax.SAXException;", NULL },
    { "restartablyPop", NULL, "V", 0x2, "Lorg.xml.sax.SAXException;", NULL },
    { "pushWithOrgCcilCowanTagsoupElement:", "push", "V", 0x2, "Lorg.xml.sax.SAXException;", NULL },
    { "prefixOfWithNSString:", "prefixOf", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "foreignWithNSString:withNSString:", "foreign", "Z", 0x2, NULL, NULL },
    { "declWithCharArray:withInt:withInt:", "decl", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "trimquotesWithNSString:", "trimquotes", "Ljava.lang.String;", 0xa, NULL, NULL },
    { "splitWithNSString:", "split", "[Ljava.lang.String;", 0xa, "Ljava.lang.IllegalArgumentException;", NULL },
    { "cleanPublicidWithNSString:", "cleanPublicid", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "giWithCharArray:withInt:withInt:", "gi", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "cdsectWithCharArray:withInt:withInt:", "cdsect", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "pcdataWithCharArray:withInt:withInt:", "pcdata", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "pitargetWithCharArray:withInt:withInt:", "pitarget", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "piWithCharArray:withInt:withInt:", "pi", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "stagcWithCharArray:withInt:withInt:", "stagc", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "stageWithCharArray:withInt:withInt:", "stage", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "cmntWithCharArray:withInt:withInt:", "cmnt", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "rectifyWithOrgCcilCowanTagsoupElement:", "rectify", "V", 0x2, "Lorg.xml.sax.SAXException;", NULL },
    { "getEntity", NULL, "I", 0x1, NULL, NULL },
    { "makeNameWithCharArray:withInt:withInt:", "makeName", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "commentWithCharArray:withInt:withInt:", "comment", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "endCDATA", NULL, "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "endDTD", NULL, "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "endEntityWithNSString:", "endEntity", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "startCDATA", NULL, "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "startDTDWithNSString:withNSString:withNSString:", "startDTD", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "startEntityWithNSString:", "startEntity", "V", 0x1, "Lorg.xml.sax.SAXException;", NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "theContentHandler_", NULL, 0x2, "Lorg.xml.sax.ContentHandler;", NULL, NULL,  },
    { "theLexicalHandler_", NULL, 0x2, "Lorg.xml.sax.ext.LexicalHandler;", NULL, NULL,  },
    { "theDTDHandler_", NULL, 0x2, "Lorg.xml.sax.DTDHandler;", NULL, NULL,  },
    { "theErrorHandler_", NULL, 0x2, "Lorg.xml.sax.ErrorHandler;", NULL, NULL,  },
    { "theEntityResolver_", NULL, 0x2, "Lorg.xml.sax.EntityResolver;", NULL, NULL,  },
    { "theSchema_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.Schema;", NULL, NULL,  },
    { "theScanner_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.Scanner;", NULL, NULL,  },
    { "theAutoDetector_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.AutoDetector;", NULL, NULL,  },
    { "DEFAULT_NAMESPACES_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_NAMESPACES_, NULL,  },
    { "DEFAULT_IGNORE_BOGONS_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_IGNORE_BOGONS_, NULL,  },
    { "DEFAULT_BOGONS_EMPTY_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_BOGONS_EMPTY_, NULL,  },
    { "DEFAULT_ROOT_BOGONS_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_ROOT_BOGONS_, NULL,  },
    { "DEFAULT_DEFAULT_ATTRIBUTES_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_DEFAULT_ATTRIBUTES_, NULL,  },
    { "DEFAULT_TRANSLATE_COLONS_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_TRANSLATE_COLONS_, NULL,  },
    { "DEFAULT_RESTART_ELEMENTS_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_RESTART_ELEMENTS_, NULL,  },
    { "DEFAULT_IGNORABLE_WHITESPACE_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_IGNORABLE_WHITESPACE_, NULL,  },
    { "DEFAULT_CDATA_ELEMENTS_", NULL, 0xa, "Z", &OrgCcilCowanTagsoupParser_DEFAULT_CDATA_ELEMENTS_, NULL,  },
    { "namespaces_", NULL, 0x2, "Z", NULL, NULL,  },
    { "ignoreBogons_", NULL, 0x2, "Z", NULL, NULL,  },
    { "bogonsEmpty_", NULL, 0x2, "Z", NULL, NULL,  },
    { "rootBogons_", NULL, 0x2, "Z", NULL, NULL,  },
    { "defaultAttributes_", NULL, 0x2, "Z", NULL, NULL,  },
    { "translateColons_", NULL, 0x2, "Z", NULL, NULL,  },
    { "restartElements_", NULL, 0x2, "Z", NULL, NULL,  },
    { "ignorableWhitespace_", NULL, 0x2, "Z", NULL, NULL,  },
    { "CDATAElements_", NULL, 0x2, "Z", NULL, NULL,  },
    { "namespacesFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_namespacesFeature_, NULL,  },
    { "namespacePrefixesFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_namespacePrefixesFeature_, NULL,  },
    { "externalGeneralEntitiesFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_externalGeneralEntitiesFeature_, NULL,  },
    { "externalParameterEntitiesFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_externalParameterEntitiesFeature_, NULL,  },
    { "isStandaloneFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_isStandaloneFeature_, NULL,  },
    { "lexicalHandlerParameterEntitiesFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_lexicalHandlerParameterEntitiesFeature_, NULL,  },
    { "resolveDTDURIsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_resolveDTDURIsFeature_, NULL,  },
    { "stringInterningFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_stringInterningFeature_, NULL,  },
    { "useAttributes2Feature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_useAttributes2Feature_, NULL,  },
    { "useLocator2Feature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_useLocator2Feature_, NULL,  },
    { "useEntityResolver2Feature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_useEntityResolver2Feature_, NULL,  },
    { "validationFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_validationFeature_, NULL,  },
    { "unicodeNormalizationCheckingFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_unicodeNormalizationCheckingFeature_, NULL,  },
    { "xmlnsURIsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_xmlnsURIsFeature_, NULL,  },
    { "XML11Feature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_XML11Feature_, NULL,  },
    { "ignoreBogonsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_ignoreBogonsFeature_, NULL,  },
    { "bogonsEmptyFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_bogonsEmptyFeature_, NULL,  },
    { "rootBogonsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_rootBogonsFeature_, NULL,  },
    { "defaultAttributesFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_defaultAttributesFeature_, NULL,  },
    { "translateColonsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_translateColonsFeature_, NULL,  },
    { "restartElementsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_restartElementsFeature_, NULL,  },
    { "ignorableWhitespaceFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_ignorableWhitespaceFeature_, NULL,  },
    { "CDATAElementsFeature_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_CDATAElementsFeature_, NULL,  },
    { "lexicalHandlerProperty_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_lexicalHandlerProperty_, NULL,  },
    { "scannerProperty_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_scannerProperty_, NULL,  },
    { "schemaProperty_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_schemaProperty_, NULL,  },
    { "autoDetectorProperty_", NULL, 0x19, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_autoDetectorProperty_, NULL,  },
    { "theFeatures_", NULL, 0x2, "Ljava.util.HashMap;", NULL, NULL,  },
    { "theNewElement_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.Element;", NULL, NULL,  },
    { "theAttributeName_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "theDoctypeIsPresent_", NULL, 0x2, "Z", NULL, NULL,  },
    { "theDoctypePublicId_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "theDoctypeSystemId_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "theDoctypeName_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "thePITarget_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "theStack_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.Element;", NULL, NULL,  },
    { "theSaved_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.Element;", NULL, NULL,  },
    { "thePCDATA_", NULL, 0x2, "Lorg.ccil.cowan.tagsoup.Element;", NULL, NULL,  },
    { "theEntity_", NULL, 0x2, "I", NULL, NULL,  },
    { "etagchars_", NULL, 0xa, "[C", &OrgCcilCowanTagsoupParser_etagchars_, NULL,  },
    { "virginStack_", NULL, 0x2, "Z", NULL, NULL,  },
    { "legal_", NULL, 0xa, "Ljava.lang.String;", &OrgCcilCowanTagsoupParser_legal_, NULL,  },
    { "theCommentBuffer_", NULL, 0x2, "[C", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgCcilCowanTagsoupParser = { 2, "Parser", "org.ccil.cowan.tagsoup", NULL, 0x1, 57, methods, 69, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgCcilCowanTagsoupParser;
}

@end


#line 311
JavaLangBoolean *OrgCcilCowanTagsoupParser_truthValueWithBoolean_(jboolean b) {
  OrgCcilCowanTagsoupParser_initialize();
  
#line 312
  return b ? JavaLangBoolean_get_TRUE__() : JavaLangBoolean_get_FALSE__();
}


#line 457
void OrgCcilCowanTagsoupParser_setup(OrgCcilCowanTagsoupParser *self) {
  if (self->theSchema_ == nil) self->theSchema_ = new_OrgCcilCowanTagsoupHTMLSchema_init();
  if (self->theScanner_ == nil) self->theScanner_ = new_OrgCcilCowanTagsoupHTMLScanner_init();
  if (self->theAutoDetector_ == nil) {
    self->theAutoDetector_ = new_OrgCcilCowanTagsoupParser_$1_init();
  }
  
#line 467
  self->theStack_ = new_OrgCcilCowanTagsoupElement_initWithOrgCcilCowanTagsoupElementType_withBoolean_([((OrgCcilCowanTagsoupSchema *) nil_chk(self->theSchema_)) getElementTypeWithNSString:@"<root>"], self->defaultAttributes_);
  self->thePCDATA_ = new_OrgCcilCowanTagsoupElement_initWithOrgCcilCowanTagsoupElementType_withBoolean_([self->theSchema_ getElementTypeWithNSString:@"<pcdata>"], self->defaultAttributes_);
  self->theNewElement_ = nil;
  self->theAttributeName_ = nil;
  self->thePITarget_ = nil;
  self->theSaved_ = nil;
  self->theEntity_ = 0;
  self->virginStack_ = YES;
  self->theDoctypeName_ = self->theDoctypePublicId_ = self->theDoctypeSystemId_ = nil;
}


#line 480
JavaIoReader *OrgCcilCowanTagsoupParser_getReaderWithOrgXmlSaxInputSource_(OrgCcilCowanTagsoupParser *self, OrgXmlSaxInputSource *s) {
  JavaIoReader *r = [((OrgXmlSaxInputSource *) nil_chk(s)) getCharacterStream];
  JavaIoInputStream *i = [s getByteStream];
  NSString *encoding = [s getEncoding];
  NSString *publicid = [s getPublicId];
  NSString *systemid = [s getSystemId];
  if (r == nil) {
    if (i == nil) i = OrgCcilCowanTagsoupParser_getInputStreamWithNSString_withNSString_(self, publicid, systemid);
    
#line 489
    if (encoding == nil) {
      r = [((id<OrgCcilCowanTagsoupAutoDetector>) nil_chk(self->theAutoDetector_)) autoDetectingReaderWithJavaIoInputStream:i];
    }
    else {
      @try {
        r = new_JavaIoInputStreamReader_initWithJavaIoInputStream_withNSString_(i, encoding);
      }
      @catch (JavaIoUnsupportedEncodingException *e) {
        r = new_JavaIoInputStreamReader_initWithJavaIoInputStream_(i);
      }
    }
  }
  
#line 502
  return r;
}


#line 506
JavaIoInputStream *OrgCcilCowanTagsoupParser_getInputStreamWithNSString_withNSString_(OrgCcilCowanTagsoupParser *self, NSString *publicid, NSString *systemid) {
  JavaNetURL *basis = new_JavaNetURL_initWithNSString_withNSString_withNSString_(@"file", @"", JreStrcat("$$", JavaLangSystem_getPropertyWithNSString_(@"user.dir"), @"/."));
  JavaNetURL *url = new_JavaNetURL_initWithJavaNetURL_withNSString_(basis, systemid);
  JavaNetURLConnection *c = [url openConnection];
  return [((JavaNetURLConnection *) nil_chk(c)) getInputStream];
}


#line 555
NSString *OrgCcilCowanTagsoupParser_expandEntitiesWithNSString_(OrgCcilCowanTagsoupParser *self, NSString *src) {
  jint refStart = -1;
  jint len = ((jint) [((NSString *) nil_chk(src)) length]);
  IOSCharArray *dst = [IOSCharArray newArrayWithLength:len];
  jint dstlen = 0;
  for (jint i = 0; i < len; i++) {
    jchar ch = [src charAtWithInt:i];
    *IOSCharArray_GetRef(dst, dstlen++) = ch;
    
#line 564
    if (ch == '&' && refStart == -1) {
      
#line 566
      refStart = dstlen;
    }
    else
#line 569
    if (refStart == -1) {
    }
    else
#line 573
    if (JavaLangCharacter_isLetterWithChar_(ch) || JavaLangCharacter_isDigitWithChar_(
#line 574
    ch) ||
#line 575
    ch == '#') {
    }
    else
#line 579
    if (ch == ';') {
      
#line 582
      jint ent = OrgCcilCowanTagsoupParser_lookupEntityWithCharArray_withInt_withInt_(self, dst, refStart, dstlen - refStart - 1);
      
#line 584
      if (ent > (jint) 0xFFFF) {
        ent -= (jint) 0x10000;
        *IOSCharArray_GetRef(dst, refStart - 1) = (jchar) ((RShift32(ent, 10)) + (jint) 0xD800);
        *IOSCharArray_GetRef(dst, refStart) = (jchar) ((ent & (jint) 0x3FF) + (jint) 0xDC00);
        dstlen = refStart + 1;
      }
      else if (ent != 0) {
        *IOSCharArray_GetRef(dst, refStart - 1) = (jchar) ent;
        dstlen = refStart;
      }
      refStart = -1;
    }
    else {
      
#line 599
      refStart = -1;
    }
  }
  return [NSString stringWithCharacters:dst offset:0 length:dstlen];
}

jint OrgCcilCowanTagsoupParser_lookupEntityWithCharArray_withInt_withInt_(OrgCcilCowanTagsoupParser *self, IOSCharArray *buff, jint offset, jint length) {
  jint result = 0;
  if (length < 1) return result;
  
#line 616
  if (IOSCharArray_Get(nil_chk(buff), offset) == '#') {
    if (length > 1 && (IOSCharArray_Get(buff, offset + 1) == 'x' ||
#line 618
    IOSCharArray_Get(buff, offset + 1) == 'X')) {
      @try {
        return JavaLangInteger_parseIntWithNSString_withInt_([NSString stringWithCharacters:buff offset:offset + 2 length:length - 2], 16);
      }
      @catch (JavaLangNumberFormatException *e) {
        
#line 622
        return 0;
      }
    }
    
#line 624
    @try {
      return JavaLangInteger_parseIntWithNSString_withInt_([NSString stringWithCharacters:buff offset:offset + 1 length:length - 1], 10);
    }
    @catch (JavaLangNumberFormatException *e) {
      
#line 627
      return 0;
    }
  }
  
#line 629
  return [((OrgCcilCowanTagsoupSchema *) nil_chk(self->theSchema_)) getEntityWithNSString:[NSString stringWithCharacters:buff offset:offset length:length]];
}


#line 717
void OrgCcilCowanTagsoupParser_restartWithOrgCcilCowanTagsoupElement_(OrgCcilCowanTagsoupParser *self, OrgCcilCowanTagsoupElement *e) {
  while (self->theSaved_ != nil && [((OrgCcilCowanTagsoupElement *) nil_chk(self->theStack_)) canContainWithOrgCcilCowanTagsoupElement:self->theSaved_] &&
#line 719
  (e == nil || [self->theSaved_ canContainWithOrgCcilCowanTagsoupElement:e])) {
    OrgCcilCowanTagsoupElement *next = [((OrgCcilCowanTagsoupElement *) nil_chk(self->theSaved_)) next];
    OrgCcilCowanTagsoupParser_pushWithOrgCcilCowanTagsoupElement_(self, self->theSaved_);
    self->theSaved_ = next;
  }
}

void OrgCcilCowanTagsoupParser_pop(OrgCcilCowanTagsoupParser *self) {
  if (self->theStack_ == nil) return;
  NSString *name = [((OrgCcilCowanTagsoupElement *) nil_chk(self->theStack_)) name];
  NSString *localName = [self->theStack_ localName];
  NSString *namespace_ = [self->theStack_ namespace__];
  NSString *prefix = OrgCcilCowanTagsoupParser_prefixOfWithNSString_(self, name);
  
#line 735
  if (!self->namespaces_) namespace_ = localName = @"";
  [((id<OrgXmlSaxContentHandler>) nil_chk(self->theContentHandler_)) endElementWithNSString:namespace_ withNSString:localName withNSString:name];
  if (OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(self, prefix, namespace_)) {
    [self->theContentHandler_ endPrefixMappingWithNSString:prefix];
  }
  
#line 741
  id<OrgXmlSaxAttributes> atts = [self->theStack_ atts];
  for (jint i = [((id<OrgXmlSaxAttributes>) nil_chk(atts)) getLength] - 1; i >= 0; i--) {
    NSString *attNamespace = [atts getURIWithInt:i];
    NSString *attPrefix = OrgCcilCowanTagsoupParser_prefixOfWithNSString_(self, [atts getQNameWithInt:i]);
    if (OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(self, attPrefix, attNamespace)) {
      [self->theContentHandler_ endPrefixMappingWithNSString:attPrefix];
    }
  }
  
#line 750
  self->theStack_ = [self->theStack_ next];
}


#line 754
void OrgCcilCowanTagsoupParser_restartablyPop(OrgCcilCowanTagsoupParser *self) {
  OrgCcilCowanTagsoupElement *popped = self->theStack_;
  OrgCcilCowanTagsoupParser_pop(self);
  if (self->restartElements_ && ([((OrgCcilCowanTagsoupElement *) nil_chk(popped)) flags] & OrgCcilCowanTagsoupSchema_F_RESTART) != 0) {
    [popped anonymize];
    [popped setNextWithOrgCcilCowanTagsoupElement:self->theSaved_];
    self->theSaved_ = popped;
  }
}


#line 766
void OrgCcilCowanTagsoupParser_pushWithOrgCcilCowanTagsoupElement_(OrgCcilCowanTagsoupParser *self, OrgCcilCowanTagsoupElement *e) {
  NSString *name = [((OrgCcilCowanTagsoupElement *) nil_chk(e)) name];
  NSString *localName = [e localName];
  NSString *namespace_ = [e namespace__];
  NSString *prefix = OrgCcilCowanTagsoupParser_prefixOfWithNSString_(self, name);
  
#line 773
  [e clean];
  if (!self->namespaces_) namespace_ = localName = @"";
  if (self->virginStack_ && [((NSString *) nil_chk(localName)) equalsIgnoreCase:self->theDoctypeName_]) {
    @try {
      (void) [((id<OrgXmlSaxEntityResolver>) nil_chk(self->theEntityResolver_)) resolveEntityWithNSString:self->theDoctypePublicId_ withNSString:self->theDoctypeSystemId_];
    }
    @catch (
#line 778
    JavaIoIOException *ew) {
    }
  }
  
#line 780
  if (OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(self, prefix, namespace_)) {
    [((id<OrgXmlSaxContentHandler>) nil_chk(self->theContentHandler_)) startPrefixMappingWithNSString:prefix withNSString:namespace_];
  }
  
#line 784
  id<OrgXmlSaxAttributes> atts = [e atts];
  jint len = [((id<OrgXmlSaxAttributes>) nil_chk(atts)) getLength];
  for (jint i = 0; i < len; i++) {
    NSString *attNamespace = [atts getURIWithInt:i];
    NSString *attPrefix = OrgCcilCowanTagsoupParser_prefixOfWithNSString_(self, [atts getQNameWithInt:i]);
    if (OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(self, attPrefix, attNamespace)) {
      [((id<OrgXmlSaxContentHandler>) nil_chk(self->theContentHandler_)) startPrefixMappingWithNSString:attPrefix withNSString:attNamespace];
    }
  }
  
#line 794
  [((id<OrgXmlSaxContentHandler>) nil_chk(self->theContentHandler_)) startElementWithNSString:namespace_ withNSString:localName withNSString:name withOrgXmlSaxAttributes:[e atts]];
  [e setNextWithOrgCcilCowanTagsoupElement:self->theStack_];
  self->theStack_ = e;
  self->virginStack_ = NO;
  if (self->CDATAElements_ && ([self->theStack_ flags] & OrgCcilCowanTagsoupSchema_F_CDATA) != 0) {
    [((id<OrgCcilCowanTagsoupScanner>) nil_chk(self->theScanner_)) startCDATA];
  }
}


#line 804
NSString *OrgCcilCowanTagsoupParser_prefixOfWithNSString_(OrgCcilCowanTagsoupParser *self, NSString *name) {
  jint i = [((NSString *) nil_chk(name)) indexOf:':'];
  NSString *prefix = @"";
  if (i != -1) prefix = [name substring:0 endIndex:i];
  
#line 809
  return prefix;
}

jboolean OrgCcilCowanTagsoupParser_foreignWithNSString_withNSString_(OrgCcilCowanTagsoupParser *self, NSString *prefix, NSString *namespace_) {
  
#line 815
  jboolean foreign = !([((NSString *) nil_chk(prefix)) isEqual:@""] || [((NSString *) nil_chk(namespace_)) isEqual:@""] ||
#line 816
  [namespace_ isEqual:[((OrgCcilCowanTagsoupSchema *) nil_chk(self->theSchema_)) getURI]]);
  
#line 818
  return foreign;
}


#line 874
NSString *OrgCcilCowanTagsoupParser_trimquotesWithNSString_(NSString *inArg) {
  OrgCcilCowanTagsoupParser_initialize();
  
#line 875
  if (inArg == nil) return inArg;
  jint length = ((jint) [((NSString *) nil_chk(inArg)) length]);
  if (length == 0) return inArg;
  jchar s = [inArg charAtWithInt:0];
  jchar e = [inArg charAtWithInt:length - 1];
  if (s == e && (s == '\'' || s == '"')) {
    inArg = [inArg substring:1 endIndex:((jint) [inArg length]) - 1];
  }
  return inArg;
}


#line 888
IOSObjectArray *OrgCcilCowanTagsoupParser_splitWithNSString_(NSString *val) {
  OrgCcilCowanTagsoupParser_initialize();
  
#line 889
  val = [((NSString *) nil_chk(val)) trim];
  if (((jint) [((NSString *) nil_chk(val)) length]) == 0) {
    return [IOSObjectArray newArrayWithLength:0 type:NSString_class_()];
  }
  else {
    JavaUtilArrayList *l = new_JavaUtilArrayList_init();
    jint s = 0;
    jint e = 0;
    jboolean sq = NO;
    jboolean dq = NO;
    jchar lastc = 0;
    jint len = ((jint) [val length]);
    for (e = 0; e < len; e++) {
      jchar c = [val charAtWithInt:e];
      if (!dq && c == '\'' && lastc != '\\') {
        sq = !sq;
        if (s < 0) s = e;
      }
      else if (!sq && c == '"' && lastc != '\\') {
        dq = !dq;
        if (s < 0) s = e;
      }
      else if (!sq && !dq) {
        if (JavaLangCharacter_isWhitespaceWithChar_(c)) {
          if (s >= 0) [l addWithId:[val substring:s endIndex:e]];
          s = -1;
        }
        else if (s < 0 && c != ' ') {
          s = e;
        }
      }
      lastc = c;
    }
    [l addWithId:[val substring:s endIndex:e]];
    return (IOSObjectArray *) check_class_cast([l toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:0 type:NSString_class_()]], [IOSObjectArray class]);
  }
}


#line 931
NSString *OrgCcilCowanTagsoupParser_cleanPublicidWithNSString_(OrgCcilCowanTagsoupParser *self, NSString *src) {
  if (src == nil) return nil;
  jint len = ((jint) [((NSString *) nil_chk(src)) length]);
  JavaLangStringBuffer *dst = new_JavaLangStringBuffer_initWithInt_(len);
  jboolean suppressSpace = YES;
  for (jint i = 0; i < len; i++) {
    jchar ch = [src charAtWithInt:i];
    if ([((NSString *) nil_chk(OrgCcilCowanTagsoupParser_legal_)) indexOf:ch] != -1) {
      (void) [dst appendWithChar:ch];
      suppressSpace = NO;
    }
    else if (suppressSpace) {
      ;
    }
    else {
      (void) [dst appendWithChar:' '];
      suppressSpace = YES;
    }
  }
  
#line 951
  return [((NSString *) nil_chk([dst description])) trim];
}


#line 1039
void OrgCcilCowanTagsoupParser_rectifyWithOrgCcilCowanTagsoupElement_(OrgCcilCowanTagsoupParser *self, OrgCcilCowanTagsoupElement *e) {
  OrgCcilCowanTagsoupElement *sp;
  while (YES) {
    for (sp = self->theStack_; sp != nil; sp = [sp next]) {
      if ([((OrgCcilCowanTagsoupElement *) nil_chk(sp)) canContainWithOrgCcilCowanTagsoupElement:e]) break;
    }
    if (sp != nil) break;
    OrgCcilCowanTagsoupElementType *parentType = [((OrgCcilCowanTagsoupElement *) nil_chk(e)) parent];
    if (parentType == nil) break;
    OrgCcilCowanTagsoupElement *parent = new_OrgCcilCowanTagsoupElement_initWithOrgCcilCowanTagsoupElementType_withBoolean_(parentType, self->defaultAttributes_);
    
#line 1050
    [parent setNextWithOrgCcilCowanTagsoupElement:e];
    e = parent;
  }
  if (sp == nil) return;
  while (self->theStack_ != sp) {
    if (self->theStack_ == nil || [self->theStack_ next] == nil ||
#line 1056
    [((OrgCcilCowanTagsoupElement *) nil_chk([self->theStack_ next])) next] == nil) break;
    OrgCcilCowanTagsoupParser_restartablyPop(self);
  }
  while (e != nil) {
    OrgCcilCowanTagsoupElement *nexte = [((OrgCcilCowanTagsoupElement *) nil_chk(e)) next];
    if (![((NSString *) nil_chk([e name])) isEqual:@"<pcdata>"]) OrgCcilCowanTagsoupParser_pushWithOrgCcilCowanTagsoupElement_(self, e);
    e = nexte;
    OrgCcilCowanTagsoupParser_restartWithOrgCcilCowanTagsoupElement_(self, e);
  }
  self->theNewElement_ = nil;
}


#line 1075
NSString *OrgCcilCowanTagsoupParser_makeNameWithCharArray_withInt_withInt_(OrgCcilCowanTagsoupParser *self, IOSCharArray *buff, jint offset, jint length) {
  JavaLangStringBuffer *dst = new_JavaLangStringBuffer_initWithInt_(length + 2);
  jboolean seenColon = NO;
  jboolean start = YES;
  
#line 1080
  for (; length-- > 0; offset++) {
    jchar ch = IOSCharArray_Get(nil_chk(buff), offset);
    if (JavaLangCharacter_isLetterWithChar_(ch) || ch == '_') {
      start = NO;
      (void) [dst appendWithChar:ch];
    }
    else if (JavaLangCharacter_isDigitWithChar_(ch) || ch == '-' || ch == '.') {
      if (start) (void) [dst appendWithChar:'_'];
      start = NO;
      (void) [dst appendWithChar:ch];
    }
    else if (ch == ':' && !seenColon) {
      seenColon = YES;
      if (start) (void) [dst appendWithChar:'_'];
      start = YES;
      (void) [dst appendWithChar:self->translateColons_ ? '_' : ch];
    }
  }
  jint dstLength = [dst length];
  if (dstLength == 0 || [dst charAtWithInt:dstLength - 1] == ':') (void) [dst appendWithChar:'_'];
  
#line 1101
  return [((NSString *) nil_chk([dst description])) intern];
}

void OrgCcilCowanTagsoupParser_init(OrgCcilCowanTagsoupParser *self) {
  (void) OrgXmlSaxHelpersDefaultHandler_init(self);
  self->theContentHandler_ = self;
  self->theLexicalHandler_ = self;
  self->theDTDHandler_ = self;
  self->theErrorHandler_ = self;
  self->theEntityResolver_ = self;
  self->namespaces_ = OrgCcilCowanTagsoupParser_DEFAULT_NAMESPACES_;
  self->ignoreBogons_ = OrgCcilCowanTagsoupParser_DEFAULT_IGNORE_BOGONS_;
  self->bogonsEmpty_ = OrgCcilCowanTagsoupParser_DEFAULT_BOGONS_EMPTY_;
  self->rootBogons_ = OrgCcilCowanTagsoupParser_DEFAULT_ROOT_BOGONS_;
  self->defaultAttributes_ = OrgCcilCowanTagsoupParser_DEFAULT_DEFAULT_ATTRIBUTES_;
  self->translateColons_ = OrgCcilCowanTagsoupParser_DEFAULT_TRANSLATE_COLONS_;
  self->restartElements_ = OrgCcilCowanTagsoupParser_DEFAULT_RESTART_ELEMENTS_;
  self->ignorableWhitespace_ = OrgCcilCowanTagsoupParser_DEFAULT_IGNORABLE_WHITESPACE_;
  self->CDATAElements_ = OrgCcilCowanTagsoupParser_DEFAULT_CDATA_ELEMENTS_;
  self->theFeatures_ = new_JavaUtilHashMap_init();
  {
    
#line 283
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_namespacesFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_NAMESPACES_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_namespacePrefixesFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_externalGeneralEntitiesFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_externalParameterEntitiesFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_isStandaloneFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_lexicalHandlerParameterEntitiesFeature_ withId:JavaLangBoolean_get_FALSE__()];
    
#line 290
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_resolveDTDURIsFeature_ withId:JavaLangBoolean_get_TRUE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_stringInterningFeature_ withId:JavaLangBoolean_get_TRUE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_useAttributes2Feature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_useLocator2Feature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_useEntityResolver2Feature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_validationFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_xmlnsURIsFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_xmlnsURIsFeature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_XML11Feature_ withId:JavaLangBoolean_get_FALSE__()];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_ignoreBogonsFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_IGNORE_BOGONS_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_bogonsEmptyFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_BOGONS_EMPTY_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_rootBogonsFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_ROOT_BOGONS_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_defaultAttributesFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_DEFAULT_ATTRIBUTES_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_translateColonsFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_TRANSLATE_COLONS_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_restartElementsFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_RESTART_ELEMENTS_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_ignorableWhitespaceFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_IGNORABLE_WHITESPACE_)];
    (void) [self->theFeatures_ putWithId:OrgCcilCowanTagsoupParser_CDATAElementsFeature_ withId:OrgCcilCowanTagsoupParser_truthValueWithBoolean_(OrgCcilCowanTagsoupParser_DEFAULT_CDATA_ELEMENTS_)];
  }
  self->theNewElement_ =
#line 516
  nil;
  self->theAttributeName_ = nil;
  self->theDoctypeIsPresent_ = NO;
  self->theDoctypePublicId_ = nil;
  self->theDoctypeSystemId_ = nil;
  self->theDoctypeName_ = nil;
  self->thePITarget_ = nil;
  self->theStack_ = nil;
  self->theSaved_ = nil;
  self->thePCDATA_ = nil;
  self->theEntity_ = 0;
  self->virginStack_ =
#line 765
  YES;
  self->theCommentBuffer_ = [IOSCharArray newArrayWithLength:
#line 1032
  2000];
}

OrgCcilCowanTagsoupParser *new_OrgCcilCowanTagsoupParser_init() {
  OrgCcilCowanTagsoupParser *self = [OrgCcilCowanTagsoupParser alloc];
  OrgCcilCowanTagsoupParser_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgCcilCowanTagsoupParser)

@implementation OrgCcilCowanTagsoupParser_$1


#line 462
- (JavaIoReader *)autoDetectingReaderWithJavaIoInputStream:(JavaIoInputStream *)i {
  return new_JavaIoInputStreamReader_initWithJavaIoInputStream_(i);
}

- (instancetype)init {
  OrgCcilCowanTagsoupParser_$1_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "autoDetectingReaderWithJavaIoInputStream:", "autoDetectingReader", "Ljava.io.Reader;", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgCcilCowanTagsoupParser", "setup" };
  static const J2ObjcClassInfo _OrgCcilCowanTagsoupParser_$1 = { 2, "", "org.ccil.cowan.tagsoup", "Parser", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgCcilCowanTagsoupParser_$1;
}

@end

void OrgCcilCowanTagsoupParser_$1_init(OrgCcilCowanTagsoupParser_$1 *self) {
  (void) NSObject_init(self);
}

OrgCcilCowanTagsoupParser_$1 *new_OrgCcilCowanTagsoupParser_$1_init() {
  OrgCcilCowanTagsoupParser_$1 *self = [OrgCcilCowanTagsoupParser_$1 alloc];
  OrgCcilCowanTagsoupParser_$1_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgCcilCowanTagsoupParser_$1)
