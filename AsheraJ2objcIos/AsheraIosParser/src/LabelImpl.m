//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ramm/git/Ashera/AsheraAndroidParser/dummyimpl/ios/LabelImpl.java
//


#include "BaseWidget.h"
#include "ColorUtil.h"
#include "Context.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "IWidget.h"
#include "J2ObjC_source.h"
#include "LabelImpl.h"
#include "View.h"
#include "java/io/PrintStream.h"
#include "java/lang/System.h"
#include "java/util/Map.h"

#line 0 "/Users/ramm/git/Ashera/AsheraAndroidParser/dummyimpl/ios/LabelImpl.java"

@interface IosLabelImpl () {
 @public
  id<RepackagedAndroidContentContext> context_;
  NSString *text_;
  id<JavaUtilMap> attributes_LabelImpl_;
  RepackagedAndroidViewView *label_;
}

- (void)nativeSetColorWithInt:(jint)red
                      withInt:(jint)green
                      withInt:(jint)blue;

- (void)nativeSetBGColorWithInt:(jint)red
                        withInt:(jint)green
                        withInt:(jint)blue;

- (jint)nativeMeasureWidth;

- (jint)nativeMeasureHeightWithInt:(jint)width;

@end

J2OBJC_FIELD_SETTER(IosLabelImpl, context_, id<RepackagedAndroidContentContext>)
J2OBJC_FIELD_SETTER(IosLabelImpl, text_, NSString *)
J2OBJC_FIELD_SETTER(IosLabelImpl, attributes_LabelImpl_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(IosLabelImpl, label_, RepackagedAndroidViewView *)

__attribute__((unused)) static void IosLabelImpl_nativeSetColorWithInt_withInt_withInt_(IosLabelImpl *self, jint red, jint green, jint blue);

__attribute__((unused)) static void IosLabelImpl_nativeSetBGColorWithInt_withInt_withInt_(IosLabelImpl *self, jint red, jint green, jint blue);

__attribute__((unused)) static jint IosLabelImpl_nativeMeasureWidth(IosLabelImpl *self);

__attribute__((unused)) static jint IosLabelImpl_nativeMeasureHeightWithInt_(IosLabelImpl *self, jint width);

@interface IosLabelImpl_$1 : RepackagedAndroidViewView {
 @public
  IosLabelImpl *this$0_;
}

- (void)onMeasureWithInt:(jint)widthMeasureSpec
                 withInt:(jint)heightMeasureSpec;

- (void)onLayoutWithBoolean:(jboolean)changed
                    withInt:(jint)left
                    withInt:(jint)top
                    withInt:(jint)right
                    withInt:(jint)bottom;

- (instancetype)initWithIosLabelImpl:(IosLabelImpl *)outer$
 withRepackagedAndroidContentContext:(id<RepackagedAndroidContentContext>)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(IosLabelImpl_$1)

J2OBJC_FIELD_SETTER(IosLabelImpl_$1, this$0_, IosLabelImpl *)

__attribute__((unused)) static void IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(IosLabelImpl_$1 *self, IosLabelImpl *outer$, id<RepackagedAndroidContentContext> arg$0);

__attribute__((unused)) static IosLabelImpl_$1 *new_IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(IosLabelImpl *outer$, id<RepackagedAndroidContentContext> arg$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(IosLabelImpl_$1)


#line 13
@implementation IosLabelImpl


#line 20
- (void)createWithJavaUtilMap:(id<JavaUtilMap>)metadata {
  self->context_ = (id<RepackagedAndroidContentContext>) check_protocol_cast([((id<JavaUtilMap>) nil_chk(metadata)) getWithId:@"context"], @protocol(RepackagedAndroidContentContext));
  label_ = new_IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(self, context_);
  
#line 65
  [self nativeCreate];
}


#line 69
- (id)asWidget {
  return label_;
}


#line 75
- (id)asNativeWidget {
  return [self nativeAsWidget];
}


#line 81
- (NSString *)getText {
  return text_;
}


#line 86
- (void)setTextWithNSString:(NSString *)text {
  self->text_ = text;
  [self nativeSetTextWithNSString:text];
}


#line 92
- (id<ComAsheraWidgetFactoryIWidget>)newInstance {
  return new_IosLabelImpl_init();
}


#line 97
- (IOSObjectArray *)getAttributes {
  return [IOSObjectArray newArrayWithObjects:(id[]){ @"width", @"height", @"id" } count:3 type:NSString_class_()];
}


#line 102
- (void)setUpStyleWithJavaUtilMap:(id<JavaUtilMap>)styles {
  [super setUpStyleWithJavaUtilMap:styles];
  
#line 106
  NSString *color = [((id<JavaUtilMap>) nil_chk(styles)) getWithId:@"color"];
  
#line 108
  if (color != nil) {
    IOSIntArray *colorArr = ComAsheraWidgetHelperColorUtil_hex2RgbWithNSString_(color);
    IosLabelImpl_nativeSetColorWithInt_withInt_withInt_(self, IOSIntArray_Get(nil_chk(colorArr), 0), IOSIntArray_Get(colorArr, 1), IOSIntArray_Get(colorArr, 2));
  }
  
#line 113
  NSString *bgColor = [styles getWithId:@"background-color"];
  
#line 115
  if (bgColor != nil) {
    IOSIntArray *colorArr = ComAsheraWidgetHelperColorUtil_hex2RgbWithNSString_(bgColor);
    IosLabelImpl_nativeSetBGColorWithInt_withInt_withInt_(self, IOSIntArray_Get(nil_chk(colorArr), 0), IOSIntArray_Get(colorArr, 1), IOSIntArray_Get(colorArr, 2));
  }
}


#line 121
- (void)nativeSetColorWithInt:(jint)red
                      withInt:(jint)green
                      withInt:(jint)blue {
  IosLabelImpl_nativeSetColorWithInt_withInt_withInt_(self, red, green, blue);
}


#line 125
- (void)nativeSetBGColorWithInt:(jint)red
                        withInt:(jint)green
                        withInt:(jint)blue {
  IosLabelImpl_nativeSetBGColorWithInt_withInt_withInt_(self, red, green, blue);
}


#line 130
- (void)setUpAttributeWithJavaUtilMap:(id<JavaUtilMap>)attributes {
  [super setUpAttributeWithJavaUtilMap:attributes];
  
#line 133
  NSString *id_ = [((id<JavaUtilMap>) nil_chk(attributes)) getWithId:@"id"];
  if (id_ != nil) {
    [((RepackagedAndroidViewView *) nil_chk(label_)) setIdWithInt:((jint) [id_ hash])];
  }
}


#line 139
- (id)nativeAsWidget {
  return self.uiLabel;
}

- (void)nativeCreate {
  self.uiLabel = [UILabel new];
  self.uiLabel.numberOfLines = 0;
}


#line 149
- (void)nativeSetTextWithNSString:(NSString *)text {
  [self.uiLabel setText:text];
}

- (jint)nativeMeasureWidth {
  return IosLabelImpl_nativeMeasureWidth(self);
}


#line 159
- (jint)nativeMeasureHeightWithInt:(jint)width {
  return IosLabelImpl_nativeMeasureHeightWithInt_(self, width);
}


#line 165
- (void)nativeMakeFrameWithInt:(jint)l
                       withInt:(jint)t
                       withInt:(jint)r
                       withInt:(jint)b {
  [self.uiLabel setFrame:CGRectMake(l, t, r-l, b-t)];
}

- (instancetype)init {
  IosLabelImpl_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "createWithJavaUtilMap:", "create", "V", 0x1, NULL, NULL },
    { "asWidget", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "asNativeWidget", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "getText", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "setTextWithNSString:", "setText", "V", 0x1, NULL, NULL },
    { "newInstance", NULL, "Lcom.ashera.widget.factory.IWidget;", 0x1, NULL, NULL },
    { "getAttributes", NULL, "[Ljava.lang.String;", 0x1, NULL, NULL },
    { "setUpStyleWithJavaUtilMap:", "setUpStyle", "V", 0x1, NULL, NULL },
    { "nativeSetColorWithInt:withInt:withInt:", "nativeSetColor", "V", 0x102, NULL, NULL },
    { "nativeSetBGColorWithInt:withInt:withInt:", "nativeSetBGColor", "V", 0x102, NULL, NULL },
    { "setUpAttributeWithJavaUtilMap:", "setUpAttribute", "V", 0x1, NULL, NULL },
    { "nativeAsWidget", NULL, "Ljava.lang.Object;", 0x101, NULL, NULL },
    { "nativeCreate", NULL, "V", 0x101, NULL, NULL },
    { "nativeSetTextWithNSString:", "nativeSetText", "V", 0x101, NULL, NULL },
    { "nativeMeasureWidth", NULL, "I", 0x102, NULL, NULL },
    { "nativeMeasureHeightWithInt:", "nativeMeasureHeight", "I", 0x102, NULL, NULL },
    { "nativeMakeFrameWithInt:withInt:withInt:withInt:", "nativeMakeFrame", "V", 0x101, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "context_", NULL, 0x2, "Lrepackaged.android.content.Context;", NULL, NULL,  },
    { "text_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "attributes_LabelImpl_", "attributes", 0x2, "Ljava.util.Map;", NULL, "Ljava/util/Map<Ljava/lang/String;Ljava/lang/String;>;",  },
    { "label_", NULL, 0x2, "Lrepackaged.android.view.View;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _IosLabelImpl = { 2, "LabelImpl", "ios", NULL, 0x1, 18, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_IosLabelImpl;
}

@end


#line 121
void IosLabelImpl_nativeSetColorWithInt_withInt_withInt_(IosLabelImpl *self, jint red, jint green, jint blue) {
  self.uiLabel.textColor = [[UIColor alloc] initWithRed:red green:green blue:blue alpha:1];
}

void IosLabelImpl_nativeSetBGColorWithInt_withInt_withInt_(IosLabelImpl *self, jint red, jint green, jint blue) {
  self.uiLabel.backgroundColor = [[UIColor alloc] initWithRed:red green:green blue:blue alpha:1];
}


#line 153
jint IosLabelImpl_nativeMeasureWidth(IosLabelImpl *self) {
  CGSize maximumLabelSize = CGSizeMake(CGFLOAT_MAX,CGFLOAT_MAX);
  CGSize requiredSize = [self.uiLabel sizeThatFits:maximumLabelSize];
  return ceil(requiredSize.width);
}

jint IosLabelImpl_nativeMeasureHeightWithInt_(IosLabelImpl *self, jint width) {
  CGSize maximumLabelSize = CGSizeMake(width,CGFLOAT_MAX);
  CGSize requiredSize = [self.uiLabel sizeThatFits:maximumLabelSize];
  return ceil(requiredSize.height);
}

void IosLabelImpl_init(IosLabelImpl *self) {
  (void) ComAsheraWidgetBaseWidget_init(self);
}

IosLabelImpl *new_IosLabelImpl_init() {
  IosLabelImpl *self = [IosLabelImpl alloc];
  IosLabelImpl_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(IosLabelImpl)

@implementation IosLabelImpl_$1


#line 24
- (void)onMeasureWithInt:(jint)widthMeasureSpec
                 withInt:(jint)heightMeasureSpec {
  [super onMeasureWithInt:widthMeasureSpec withInt:heightMeasureSpec];
  
#line 27
  jint widthMode = RepackagedAndroidViewView_MeasureSpec_getModeWithInt_(widthMeasureSpec);
  jint heightMode = RepackagedAndroidViewView_MeasureSpec_getModeWithInt_(heightMeasureSpec);
  jint widthSize = RepackagedAndroidViewView_MeasureSpec_getSizeWithInt_(widthMeasureSpec);
  jint heightSize = RepackagedAndroidViewView_MeasureSpec_getSizeWithInt_(heightMeasureSpec);
  
#line 32
  jint width;
  jint height;
  if (widthMode == RepackagedAndroidViewView_MeasureSpec_EXACTLY) {
    
#line 36
    width = widthSize;
  }
  else {
    
#line 38
    width = IosLabelImpl_nativeMeasureWidth(this$0_);
    
#line 40
    if (width > widthSize) {
      width = widthSize;
    }
  }
  
#line 45
  if (heightMode == RepackagedAndroidViewView_MeasureSpec_EXACTLY) {
    
#line 47
    height = heightSize;
  }
  else {
    
#line 49
    height = IosLabelImpl_nativeMeasureHeightWithInt_(this$0_, width);
  }
  
#line 52
  [((JavaIoPrintStream *) nil_chk(JavaLangSystem_get_out_())) printlnWithNSString:JreStrcat("$ICIC$", @"label :", height, ' ', width, ' ', [this$0_ getText])];
  [self setMeasuredDimensionWithInt:width withInt:height];
}


#line 58
- (void)onLayoutWithBoolean:(jboolean)changed
                    withInt:(jint)left
                    withInt:(jint)top
                    withInt:(jint)right
                    withInt:(jint)bottom {
  
#line 60
  [super onLayoutWithBoolean:changed withInt:left withInt:top withInt:right withInt:bottom];
  [this$0_ nativeMakeFrameWithInt:left withInt:top withInt:right withInt:bottom];
}

- (instancetype)initWithIosLabelImpl:(IosLabelImpl *)outer$
 withRepackagedAndroidContentContext:(id<RepackagedAndroidContentContext>)arg$0 {
  IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(self, outer$, arg$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onMeasureWithInt:withInt:", "onMeasure", "V", 0x4, NULL, NULL },
    { "onLayoutWithBoolean:withInt:withInt:withInt:withInt:", "onLayout", "V", 0x4, NULL, NULL },
    { "initWithIosLabelImpl:withRepackagedAndroidContentContext:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lios.LabelImpl;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "IosLabelImpl", "createWithJavaUtilMap:" };
  static const J2ObjcClassInfo _IosLabelImpl_$1 = { 2, "", "ios", "LabelImpl", 0x8008, 3, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_IosLabelImpl_$1;
}

@end

void IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(IosLabelImpl_$1 *self, IosLabelImpl *outer$, id<RepackagedAndroidContentContext> arg$0) {
  self->this$0_ = outer$;
  (void) RepackagedAndroidViewView_initWithRepackagedAndroidContentContext_(self, arg$0);
}

IosLabelImpl_$1 *new_IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(IosLabelImpl *outer$, id<RepackagedAndroidContentContext> arg$0) {
  IosLabelImpl_$1 *self = [IosLabelImpl_$1 alloc];
  IosLabelImpl_$1_initWithIosLabelImpl_withRepackagedAndroidContentContext_(self, outer$, arg$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(IosLabelImpl_$1)
