//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ramm/git/Ashera/AsheraAndroidParser/androidlayouts/repackaged/android/graphics/ColorMatrix.java
//


#include "ColorMatrix.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Math.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/System.h"
#include "java/util/Arrays.h"

#line 0 "/Users/ramm/git/Ashera/AsheraAndroidParser/androidlayouts/repackaged/android/graphics/ColorMatrix.java"

@interface RepackagedAndroidGraphicsColorMatrix () {
 @public
  IOSFloatArray *mArray_;
}

@end

J2OBJC_FIELD_SETTER(RepackagedAndroidGraphicsColorMatrix, mArray_, IOSFloatArray *)


#line 61
@implementation RepackagedAndroidGraphicsColorMatrix


#line 68
- (instancetype)init {
  RepackagedAndroidGraphicsColorMatrix_init(self);
  return self;
}


#line 75
- (instancetype)initWithFloatArray:(IOSFloatArray *)src {
  RepackagedAndroidGraphicsColorMatrix_initWithFloatArray_(self, src);
  return self;
}


#line 82
- (instancetype)initWithRepackagedAndroidGraphicsColorMatrix:(RepackagedAndroidGraphicsColorMatrix *)src {
  RepackagedAndroidGraphicsColorMatrix_initWithRepackagedAndroidGraphicsColorMatrix_(self, src);
  return self;
}


#line 89
- (IOSFloatArray *)getArray {
  
#line 89
  return mArray_;
}


#line 100
- (void)reset {
  IOSFloatArray *a = mArray_;
  JavaUtilArrays_fillWithFloatArray_withFloat_(a, 0);
  *IOSFloatArray_GetRef(nil_chk(a), 0) = *IOSFloatArray_GetRef(a, 6) = *IOSFloatArray_GetRef(a, 12) = *IOSFloatArray_GetRef(a, 18) = 1;
}


#line 109
- (void)setWithRepackagedAndroidGraphicsColorMatrix:(RepackagedAndroidGraphicsColorMatrix *)src {
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(((RepackagedAndroidGraphicsColorMatrix *) nil_chk(src))->mArray_, 0, mArray_, 0, 20);
}


#line 116
- (void)setWithFloatArray:(IOSFloatArray *)src {
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(src, 0, mArray_, 0, 20);
}


#line 123
- (void)setScaleWithFloat:(jfloat)rScale
                withFloat:(jfloat)gScale
                withFloat:(jfloat)bScale
                withFloat:(jfloat)aScale {
  
#line 125
  IOSFloatArray *a = mArray_;
  
#line 127
  for (jint i = 19; i > 0; --i) {
    *IOSFloatArray_GetRef(nil_chk(a), i) = 0;
  }
  *IOSFloatArray_GetRef(nil_chk(a), 0) = rScale;
  *IOSFloatArray_GetRef(a, 6) = gScale;
  *IOSFloatArray_GetRef(a, 12) = bScale;
  *IOSFloatArray_GetRef(a, 18) = aScale;
}


#line 144
- (void)setRotateWithInt:(jint)axis
               withFloat:(jfloat)degrees {
  [self reset];
  jdouble radians = degrees * JavaLangMath_PI / 180.0;
  jfloat cosine = (jfloat) JavaLangMath_cosWithDouble_(radians);
  jfloat sine = (jfloat) JavaLangMath_sinWithDouble_(radians);
  switch (axis) {
    
#line 151
    case 0:
    *IOSFloatArray_GetRef(nil_chk(mArray_), 6) = *IOSFloatArray_GetRef(mArray_, 12) = cosine;
    *IOSFloatArray_GetRef(mArray_, 7) = sine;
    *IOSFloatArray_GetRef(mArray_, 11) = -sine;
    break;
    
#line 157
    case 1:
    *IOSFloatArray_GetRef(nil_chk(mArray_), 0) = *IOSFloatArray_GetRef(mArray_, 12) = cosine;
    *IOSFloatArray_GetRef(mArray_, 2) = -sine;
    *IOSFloatArray_GetRef(mArray_, 10) = sine;
    break;
    
#line 163
    case 2:
    *IOSFloatArray_GetRef(nil_chk(mArray_), 0) = *IOSFloatArray_GetRef(mArray_, 6) = cosine;
    *IOSFloatArray_GetRef(mArray_, 1) = sine;
    *IOSFloatArray_GetRef(mArray_, 5) = -sine;
    break;
    default:
    @throw new_JavaLangRuntimeException_init();
  }
}


#line 181
- (void)setConcatWithRepackagedAndroidGraphicsColorMatrix:(RepackagedAndroidGraphicsColorMatrix *)matA
                 withRepackagedAndroidGraphicsColorMatrix:(RepackagedAndroidGraphicsColorMatrix *)matB {
  IOSFloatArray *tmp;
  if (matA == self || matB == self) {
    tmp = [IOSFloatArray newArrayWithLength:20];
  }
  else {
    
#line 186
    tmp = mArray_;
  }
  
#line 189
  IOSFloatArray *a = ((RepackagedAndroidGraphicsColorMatrix *) nil_chk(matA))->mArray_;
  IOSFloatArray *b = ((RepackagedAndroidGraphicsColorMatrix *) nil_chk(matB))->mArray_;
  jint index = 0;
  for (jint j = 0; j < 20; j += 5) {
    for (jint i = 0; i < 4; i++) {
      *IOSFloatArray_GetRef(nil_chk(tmp), index++) = IOSFloatArray_Get(nil_chk(a), j + 0) * IOSFloatArray_Get(nil_chk(b), i + 0) + IOSFloatArray_Get(a, j + 1) * IOSFloatArray_Get(b, i + 5) +
#line 195
      IOSFloatArray_Get(a, j + 2) * IOSFloatArray_Get(b, i + 10) + IOSFloatArray_Get(a, j + 3) * IOSFloatArray_Get(b, i + 15);
    }
    *IOSFloatArray_GetRef(nil_chk(tmp), index++) = IOSFloatArray_Get(nil_chk(a), j + 0) * IOSFloatArray_Get(nil_chk(b), 4) + IOSFloatArray_Get(a, j + 1) * IOSFloatArray_Get(b, 9) +
#line 198
    IOSFloatArray_Get(a, j + 2) * IOSFloatArray_Get(b, 14) + IOSFloatArray_Get(a, j + 3) * IOSFloatArray_Get(b, 19) + IOSFloatArray_Get(
#line 199
    a, j + 4);
  }
  
#line 202
  if (tmp != mArray_) {
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(tmp, 0, mArray_, 0, 20);
  }
}


#line 213
- (void)preConcatWithRepackagedAndroidGraphicsColorMatrix:(RepackagedAndroidGraphicsColorMatrix *)prematrix {
  [self setConcatWithRepackagedAndroidGraphicsColorMatrix:self withRepackagedAndroidGraphicsColorMatrix:prematrix];
}


#line 223
- (void)postConcatWithRepackagedAndroidGraphicsColorMatrix:(RepackagedAndroidGraphicsColorMatrix *)postmatrix {
  [self setConcatWithRepackagedAndroidGraphicsColorMatrix:postmatrix withRepackagedAndroidGraphicsColorMatrix:self];
}


#line 234
- (void)setSaturationWithFloat:(jfloat)sat {
  [self reset];
  IOSFloatArray *m = mArray_;
  
#line 238
  jfloat invSat = 1 - sat;
  jfloat R = 0.213f * invSat;
  jfloat G = 0.715f * invSat;
  jfloat B = 0.072f * invSat;
  
#line 243
  *IOSFloatArray_GetRef(nil_chk(m), 0) = R + sat;
  
#line 243
  *IOSFloatArray_GetRef(m, 1) = G;
  
#line 243
  *IOSFloatArray_GetRef(m, 2) = B;
  *IOSFloatArray_GetRef(m, 5) = R;
  
#line 244
  *IOSFloatArray_GetRef(m, 6) = G + sat;
  
#line 244
  *IOSFloatArray_GetRef(m, 7) = B;
  *IOSFloatArray_GetRef(m, 10) = R;
  
#line 245
  *IOSFloatArray_GetRef(m, 11) = G;
  
#line 245
  *IOSFloatArray_GetRef(m, 12) = B + sat;
}


#line 251
- (void)setRGB2YUV {
  [self reset];
  IOSFloatArray *m = mArray_;
  
#line 255
  *IOSFloatArray_GetRef(nil_chk(m), 0) = 0.299f;
  
#line 255
  *IOSFloatArray_GetRef(m, 1) = 0.587f;
  
#line 255
  *IOSFloatArray_GetRef(m, 2) = 0.114f;
  *IOSFloatArray_GetRef(m, 5) = -0.16874f;
  
#line 256
  *IOSFloatArray_GetRef(m, 6) = -0.33126f;
  
#line 256
  *IOSFloatArray_GetRef(m, 7) = 0.5f;
  *IOSFloatArray_GetRef(m, 10) = 0.5f;
  
#line 257
  *IOSFloatArray_GetRef(m, 11) = -0.41869f;
  
#line 257
  *IOSFloatArray_GetRef(m, 12) = -0.08131f;
}


#line 263
- (void)setYUV2RGB {
  [self reset];
  IOSFloatArray *m = mArray_;
  
#line 267
  *IOSFloatArray_GetRef(nil_chk(m), 2) = 1.402f;
  *IOSFloatArray_GetRef(m, 5) = 1;
  
#line 268
  *IOSFloatArray_GetRef(m, 6) = -0.34414f;
  
#line 268
  *IOSFloatArray_GetRef(m, 7) = -0.71414f;
  *IOSFloatArray_GetRef(m, 10) = 1;
  
#line 269
  *IOSFloatArray_GetRef(m, 11) = 1.772f;
  
#line 269
  *IOSFloatArray_GetRef(m, 12) = 0;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "ColorMatrix", NULL, 0x1, NULL, NULL },
    { "initWithFloatArray:", "ColorMatrix", NULL, 0x1, NULL, NULL },
    { "initWithRepackagedAndroidGraphicsColorMatrix:", "ColorMatrix", NULL, 0x1, NULL, NULL },
    { "getArray", NULL, "[F", 0x11, NULL, NULL },
    { "reset", NULL, "V", 0x1, NULL, NULL },
    { "setWithRepackagedAndroidGraphicsColorMatrix:", "set", "V", 0x1, NULL, NULL },
    { "setWithFloatArray:", "set", "V", 0x1, NULL, NULL },
    { "setScaleWithFloat:withFloat:withFloat:withFloat:", "setScale", "V", 0x1, NULL, NULL },
    { "setRotateWithInt:withFloat:", "setRotate", "V", 0x1, NULL, NULL },
    { "setConcatWithRepackagedAndroidGraphicsColorMatrix:withRepackagedAndroidGraphicsColorMatrix:", "setConcat", "V", 0x1, NULL, NULL },
    { "preConcatWithRepackagedAndroidGraphicsColorMatrix:", "preConcat", "V", 0x1, NULL, NULL },
    { "postConcatWithRepackagedAndroidGraphicsColorMatrix:", "postConcat", "V", 0x1, NULL, NULL },
    { "setSaturationWithFloat:", "setSaturation", "V", 0x1, NULL, NULL },
    { "setRGB2YUV", NULL, "V", 0x1, NULL, NULL },
    { "setYUV2RGB", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "mArray_", NULL, 0x12, "[F", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _RepackagedAndroidGraphicsColorMatrix = { 2, "ColorMatrix", "repackaged.android.graphics", NULL, 0x1, 15, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_RepackagedAndroidGraphicsColorMatrix;
}

@end


#line 68
void RepackagedAndroidGraphicsColorMatrix_init(RepackagedAndroidGraphicsColorMatrix *self) {
  (void) NSObject_init(self);
  self->mArray_ = [IOSFloatArray newArrayWithLength:
#line 62
  20];
  
#line 69
  [self reset];
}


#line 68
RepackagedAndroidGraphicsColorMatrix *new_RepackagedAndroidGraphicsColorMatrix_init() {
  RepackagedAndroidGraphicsColorMatrix *self = [RepackagedAndroidGraphicsColorMatrix alloc];
  RepackagedAndroidGraphicsColorMatrix_init(self);
  return self;
}


#line 75
void RepackagedAndroidGraphicsColorMatrix_initWithFloatArray_(RepackagedAndroidGraphicsColorMatrix *self, IOSFloatArray *src) {
  (void) NSObject_init(self);
  self->mArray_ = [IOSFloatArray newArrayWithLength:
#line 62
  20];
  
#line 76
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(src, 0, self->mArray_, 0, 20);
}


#line 75
RepackagedAndroidGraphicsColorMatrix *new_RepackagedAndroidGraphicsColorMatrix_initWithFloatArray_(IOSFloatArray *src) {
  RepackagedAndroidGraphicsColorMatrix *self = [RepackagedAndroidGraphicsColorMatrix alloc];
  RepackagedAndroidGraphicsColorMatrix_initWithFloatArray_(self, src);
  return self;
}


#line 82
void RepackagedAndroidGraphicsColorMatrix_initWithRepackagedAndroidGraphicsColorMatrix_(RepackagedAndroidGraphicsColorMatrix *self, RepackagedAndroidGraphicsColorMatrix *src) {
  (void) NSObject_init(self);
  self->mArray_ = [IOSFloatArray newArrayWithLength:
#line 62
  20];
  
#line 83
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(((RepackagedAndroidGraphicsColorMatrix *) nil_chk(src))->mArray_, 0, self->mArray_, 0, 20);
}


#line 82
RepackagedAndroidGraphicsColorMatrix *new_RepackagedAndroidGraphicsColorMatrix_initWithRepackagedAndroidGraphicsColorMatrix_(RepackagedAndroidGraphicsColorMatrix *src) {
  RepackagedAndroidGraphicsColorMatrix *self = [RepackagedAndroidGraphicsColorMatrix alloc];
  RepackagedAndroidGraphicsColorMatrix_initWithRepackagedAndroidGraphicsColorMatrix_(self, src);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RepackagedAndroidGraphicsColorMatrix)
