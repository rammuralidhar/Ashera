//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ramm/git/Ashera/AsheraAndroidParser/androidlayouts/repackaged/com/google/android/util/SmileyParser.java
//


#include "AbstractMessageParser.h"
#include "Context.h"
#include "ImageSpan.h"
#include "J2ObjC_source.h"
#include "SmileyParser.h"
#include "SmileyResources.h"
#include "Spannable.h"
#include "SpannableStringBuilder.h"
#include "java/lang/CharSequence.h"
#include "java/util/ArrayList.h"

#line 0 "/Users/ramm/git/Ashera/AsheraAndroidParser/androidlayouts/repackaged/com/google/android/util/SmileyParser.java"

@interface RepackagedComGoogleAndroidUtilSmileyParser () {
 @public
  RepackagedComGoogleAndroidUtilSmileyResources *mRes_;
}

@end

J2OBJC_FIELD_SETTER(RepackagedComGoogleAndroidUtilSmileyParser, mRes_, RepackagedComGoogleAndroidUtilSmileyResources *)


#line 29
@implementation RepackagedComGoogleAndroidUtilSmileyParser


#line 33
- (instancetype)initWithNSString:(NSString *)text
withRepackagedComGoogleAndroidUtilSmileyResources:(RepackagedComGoogleAndroidUtilSmileyResources *)res {
  RepackagedComGoogleAndroidUtilSmileyParser_initWithNSString_withRepackagedComGoogleAndroidUtilSmileyResources_(self, text, res);
  return self;
}


#line 46
- (id<RepackagedComGoogleAndroidUtilAbstractMessageParser_Resources>)getResources {
  return mRes_;
}


#line 55
- (id<JavaLangCharSequence>)getSpannableStringWithRepackagedAndroidContentContext:(id<RepackagedAndroidContentContext>)context {
  RepackagedAndroidTextSpannableStringBuilder *builder = new_RepackagedAndroidTextSpannableStringBuilder_init();
  
#line 58
  if ([self getPartCount] == 0) {
    return @"";
  }
  
#line 63
  RepackagedComGoogleAndroidUtilAbstractMessageParser_Part *part = [self getPartWithInt:0];
  JavaUtilArrayList *tokens = [((RepackagedComGoogleAndroidUtilAbstractMessageParser_Part *) nil_chk(part)) getTokens];
  jint len = [((JavaUtilArrayList *) nil_chk(tokens)) size];
  for (jint i = 0; i < len; i++) {
    RepackagedComGoogleAndroidUtilAbstractMessageParser_Token *token = [tokens getWithInt:i];
    jint start = [builder length];
    [builder appendWithNSString:[((RepackagedComGoogleAndroidUtilAbstractMessageParser_Token *) nil_chk(token)) getRawText]];
    if ([token getType] == RepackagedComGoogleAndroidUtilAbstractMessageParser_Token_TypeEnum_get_SMILEY()) {
      jint resid = [((RepackagedComGoogleAndroidUtilSmileyResources *) nil_chk(mRes_)) getSmileyResWithNSString:[token getRawText]];
      if (resid != -1) {
        [builder setSpanWithRepackagedAndroidTextStyleImageSpan:new_RepackagedAndroidTextStyleImageSpan_initWithRepackagedAndroidContentContext_withInt_(context, resid) withInt:
#line 74
        start withInt:
#line 75
        [builder length] withNSString:RepackagedAndroidTextSpannable_get_SPAN_EXCLUSIVE_EXCLUSIVE_()];
      }
    }
  }
  
#line 80
  return builder;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withRepackagedComGoogleAndroidUtilSmileyResources:", "SmileyParser", NULL, 0x1, NULL, NULL },
    { "getResources", NULL, "Lrepackaged.com.google.android.util.AbstractMessageParser$Resources;", 0x4, NULL, NULL },
    { "getSpannableStringWithRepackagedAndroidContentContext:", "getSpannableString", "Ljava.lang.CharSequence;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "mRes_", NULL, 0x2, "Lrepackaged.com.google.android.util.SmileyResources;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _RepackagedComGoogleAndroidUtilSmileyParser = { 2, "SmileyParser", "repackaged.com.google.android.util", NULL, 0x1, 3, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_RepackagedComGoogleAndroidUtilSmileyParser;
}

@end


#line 33
void RepackagedComGoogleAndroidUtilSmileyParser_initWithNSString_withRepackagedComGoogleAndroidUtilSmileyResources_(RepackagedComGoogleAndroidUtilSmileyParser *self, NSString *text, RepackagedComGoogleAndroidUtilSmileyResources *res) {
  (void) RepackagedComGoogleAndroidUtilAbstractMessageParser_initWithNSString_withBoolean_withBoolean_withBoolean_withBoolean_withBoolean_withBoolean_(self, text,
#line 35
  YES,
#line 36
  NO,
#line 37
  NO,
#line 38
  NO,
#line 39
  NO,
#line 40
  NO);
  
#line 42
  self->mRes_ = res;
}


#line 33
RepackagedComGoogleAndroidUtilSmileyParser *new_RepackagedComGoogleAndroidUtilSmileyParser_initWithNSString_withRepackagedComGoogleAndroidUtilSmileyResources_(NSString *text, RepackagedComGoogleAndroidUtilSmileyResources *res) {
  RepackagedComGoogleAndroidUtilSmileyParser *self = [RepackagedComGoogleAndroidUtilSmileyParser alloc];
  RepackagedComGoogleAndroidUtilSmileyParser_initWithNSString_withRepackagedComGoogleAndroidUtilSmileyResources_(self, text, res);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(RepackagedComGoogleAndroidUtilSmileyParser)
